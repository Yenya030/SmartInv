1 /**
2  *
3 */
4 
5 // SPDX-License-Identifier: MIT
6 /**
7 
8 /?Gang Gang
9 
10 https://t.me/ganggangportal
11 
12 
13 //BBBBBGBBBBBBG5YJJ?????!~^^^^^^~!7777?7777777????????J??????Y555555555PP5555PP555P5J??????YP55PPY???^
14 //BBBBBBBBBBBBG5YYYJJJJJ?JJJ????JJJJJJJJ????????YPPP5YYYJJJJJ??????????????????????7:..  ..!J?JJJJJ??^
15 //GGGGGGBBBBBGP555YYYYYYYP5YYYYY5YYYY555YYYJJ??J5PGBBB####BBBBGGGGPP55YYYYJJJJJJ?J??^......~JJJJJJJJY^
16 //GGGGGGGGGBBGGPP555P5P55G5YYYYYYYYYY5GPY?!~^::..:^^^^^~7J5B################BBBBGGG5^.:::::~JYYYJY5B#!
17 //GGGGGGGGGGBGP5555555PYYP5YJJYYYYYYYYJ~..  ....::::..   ..^!5B################&&#&G77!!!?J5B####&&&&!
18 //GGGGGGGGGGGGG5Y55YY5PPPGPJJJJJJJY?~.  .::^^^^^^^^^^::::.  ..^YB#################&##BBB##&&&&&&&&&&&!
19 //GGGGGGGGGGGPPP5YYYYYYYJY5JJJJJJ?~.  .^!!!~~~~~~~~~~~~~~~^:....~P#####################&&&&&&&&&&&&&&!
20 //GGGGGGGGGGGPPP55YYYJ??JYYJJJJY7:  .^7?!~^^^^^^^~~~~~~~~~!7~..:.:JB#####################&&&&&&&&&&&&!
21 //PGGPGGGGGGGPPP5YYJ???JY55JJJJ!.. .~J7~^:::::^^^^~~~~~~~~!!?!:::::?B#####################&&&&&&&&&&&!
22 //PPPPGGGP55555PP5YYYYYYJ55J?J!....~Y!^:::..::::^^^^~^~~~~~!!7!:::::?B############B#######&&&&&&&&&&&!
23 //PPPGGPYJ????JYY5YJ??JYJY5J?7:...:?7~!!7777!~^^^^^^~77?7!77777~:::::Y############G#G#&&&&&&&&&&&&&&&!
24 //PPGGP5J??????JJ5PP5YJJ?JYJ7^....!Y?YJYYY?Y7J?!^~~!55Y5PPPP55YJ^::::~G###########G#GB&&&&&&&&###&&&&!
25 //PPPGG5YJ???JJYY5PY???7?JJJ!....:?7?7J7?J?J?J?J???JP5PPP5??777J7:::^:?B##########G#GB&&&&&&&######&&!
26 //PPPGGPP55YY5PP555YJJ77?JY?^...:^7~!!7!~!7?????7777?555J77!!777?^^^:^~PB#############&&&&&&########&!
27 //PPPPPGGGGGGGGGPYYYJ?7???Y7....:~!7?7!!!!77??7~^^~7?YJ7~^~!77?JJ!^^:^:YB##########&&&&&&&&&########&!
28 //PPPPPPPPGGGGP5YJYYJ??7???~....^~!75GGPGGG5Y?~~^^~!?J???Y555PPPPJ^~:^:7B##########&&&&&&&&&########&!
29 //YYY5PPPPPGP5YYYYYYJYJY???^...:^~~~!7?JJYJ?7~^~^^~!77??YPGBBGG55Y^~^::^PB########&&&&&&&&&&&&#######!
30 //JJY5YYYY55Y5YJJYYJYJY5YY?:...:~~~^^^^^~~~^^^^^^^~!!7!!77??????JY~~^:^:JB########&&&&&&&&&&&&&#####&!
31 //Y555555YYJJYYJ?JJJJJYYYYJ:..::^~~~^^^^^^^^^~~~^~!!77!!!~!!!!!7?Y!~^:^^!G########&&&&&&&&&&&&&&&&##&!
32 //55YYYYY5PPJJYYJYYJ??JYYY?:..::~~~~~~^^^^~~!?55J?J5PY?7!~!!!!!7?57~~^^^^YB#######&&&&&&&&&&&&&&####&!
33 //PPYJJJJJ5YJ7?YYYYY5YYY5Y?:.:::!!~~~~~^^^^^~!7???JY5YJ?!!!!!77?JP?^~^^^^7G#######&&&&&&&&&&&&&######!
34 //P55PJJY55Y??YY555Y5P55PPJ:::::!!~~~~~~^^^^^~!!77?77777!!777???YGJ^~^^^:!5#######&&&&&&&&&&&########!
35 //5P5Y5YYY5YJY5J5555555555J:.:::!7~~~~~~~~!7JYYJJYYYYJ?7777??J?YPGJ~^~^^^^JB#######5BGB&&&&&&########!
36 //PP5Y5PP55Y?YY75YYPJJYYJYJ^.:::!J~~~~~~~!?JYY7~~~~7JYY5J????JJ5G5J~^~~^^^7G#######?5JP&&&&&#########!
37 //P5PPPPPPPPJY5?YYY5??JYJYJ^:::^!J?~~~~~~!!77?7!!!!7?JYYJJ??JJ5P55J!^~~^^^!YP5GB##&YP5P@&&&##########!
38 //PY?JJJPPPPP7?JYYY5?JJJJJ?~:::^!?YJ!~!!~!7?JJJJJJ?JYYYJJJJJJ5P5YYJ!~~~~^^!???JYPB#55PG@&&###########!
39 //YJYJJY5GGPG?7?YPYY?YY????~::^~!?Y55?!!!!!77JJYYYYYYYJJJJY55555YYJ!~~~~^^~!77?JJJJJYYG&&&&&#########!
40 //JJJY5555555PJ?JJ??JYJJ?7!~::^~!?J55Y??7!!!~~~~!77??JJYY5PGGPP55YJ!~~~~^^~~!7!77YGBB#&&&&&&&&#&&####!
41 //YYYYYY555YYYYJJJJ??JJ?77!7:^~!!?Y55Y?????77777??JJYY55PPGBGGGPP5Y7!~!!~~!!7J55G##B###BBBBB&&&&&&&#&!
42 //YY555YJJJJJJJJJJJJJYJJYJJJ^^~!7?YP5J?????JJJJYYY555PPPPPGBBBBBGP5?!!!!~~??Y555PGGBGBBGGPGG#&G5YY?YG~
43 //777?J5PGGGGGGGGGGGGGGGGGGPYJYYY55P5YYJ?????JJYYY555555PPPGGBB#BBGY7!!!!~J?YYYYPPPPGGPPP5JY55J~~77YY^
44 //!!!JGB#BGGB##PJY55555JY5JYYY?J5GPP5YJ???7!!?JJJYYYY5555PPGPPPGPPP5?7!7!!77?JJJYJYYYYPPYJ?JJYG5J55GB~
45 //~~!B#BGP5GB&#G55P5P55P5YYJY5Y5PPPPJ~!7~!~7!7JJJYYYYJ77?5PPG5P5P555YYJ77????????????JJ5GGPP5G##B5??Y~
46 //!JJG#B5PPB&&#GPPPPGP55PP5555555555J7?YJJYYYJJJJJ7?YJ!:?55PPY55555555Y!!JJ???7777777???JJ?JGB###PJJY^
47 //JJYYPGBBB##BBBGPGPGPPPP5Y555555YYYYYYYYJ?????JJ?~7?!7!J555YJYYYYYYYJJ~^7??77!!!!!!!7777??J55555555Y^
48 //!!!!!7Y55YJ?????7??77?7~^77!!!!!!7777777?????????JJJYYYYYYJJJJJJJJJ??!:!7!!!!!!!!!!!!!777J55PPPPYYY^
49 //~^^^!JYYYY5555555YYYYYY??JJJJ?????????????????????JJYYYJJJ?J??J?????7!:^!!!!!!!!!!!!!!!!!77?YYYY??J^
50 //~^^7PJ?JJ!~?GP555GPPPPP5555555YYJJJJ77??7!!????77??JJJ??????????777777::!!!!!!!!!!!!!!!!!777?7!!!!7:
51 //!!7G7^JP5Y5J?P55YGGPPPP5555555YJJJ7~!7~!!7!7777!7!77!~~777777777777777^:~!!!!!!!!!!!!!!!!!7777!^^^:.
52 //PPPBJ~Y&&PYYYGP555P5YY5Y55555YYYYJ?7?YJJYYY7!!!~~~~:^:^!!777!!77777777!.^!!!!!!777777777777777777JJ^
53 //????YPG#&PJPGGPPPPPP5555555555YYJJ?JJJJ?77!!!!!~^~~~^^~!7!!!!!!!!!!77!!::!7!!7777777777777777777JB@!
54 //~~~!!7????J???????7777!~!7777!!!!!!!!!!!!!!!~~~!!!!!!!!!!!!!!!!!!!!!777^.!777777????????777777777?P~
55 //^:~!!!!!!!!!!!~~~~~~~~:.~~^^^~~~~~~~~~~~!!~~!!!!!!!!!!!!!!!~~~!!!!!!77?~.~777???JJYYYJ????77777777?^
56 //JJ7!7!!!!!!!!!!!!!!~~!:.~~~~~~~~~~~~~~~~~~!!!!!!!!!!~!!!~~~~~~!!!!!!77?!.~777?JJYPGP5YJ??7777777777:
57 //##J777777!777777!!!!!!:.~~~~~~~~~~~~~~!!!!!!!!!!!!!!!!!!~~!~!!!!!!!!7777.^???JJYPBG5YJJ???777777777:
58 //##J77777777????77!!!!!:.~~~~~~~~~~~~~!!!!!!!!!!!!!!77!!~~~~!!!!!!!!!7777:^??JYYP##G5YJJJ???77777777:
59 //##J7777777??JJJ?77!!!!::~~~~~~~~~~~~!!!!!!!777777!77!!!!!!!!!!!!!!!!777?^^?JY5P#&&BG5YYYJJ???777777:
60 //#B?777777???JY5J?7!!!!::!~~~~~~~~~~~!!!!!777777777!!!!!!!!!!!!!!!!77777?~^JY5P#&&&&BG55YYJJ???777!!:
61 //#P7777777???JY55J?7777^:!!!!!~~~~~~~!!!77777??!!~~!7!!!!!!!!!!!!!!77777?!:?55G#&&&&&#GP55YYJJ??7777:
62 //BY7777777??JJY5P5???77~:!!!!!!!~~!!!!!!7777???7!~!!!7!!!!!!!!7777777777?~:!5PB#&&&&&&&#GP55YJJ??777:
63 //P??7?J??7??JYY5PPYJ???~:~7!7!!!!~!!!7777777??JJ?JYJ??7!!!!!77777777777!!^::7JYB&&&&&&&&##GP5YYJJ??7:
64 //Y??7YPJJ?7?YJ7YPPY!777!!!!777?7~~~~~77????????J5PP5J?777777777777!~~^^::::^^^7#&&&&&&&&&&&#BG5YJJJ?^
65 //???7YPYJ?7JY555PG5!777????JJJJ7~~~~~^~~!777??????777777777!!!!~~^^^^::::::^^^~P&&&&&&&&&&#&&##BP5YY^
66 //???JPGPY??YY???J??!!77Y7???JJJ5Y?777!~^!~~!7!77!~!~~~~~~!~~~~^^::^^^:::::::^^^!P&&&&&&&&&&&######GP~
67 //JJJJ?JJJY55PYY??7!!7?J555Y55P5GGGPJ?JJ?J???7!7777777777!7!~!~~~^^^^^^^^^^^^^^^~!G&&&&&&&&&&########!
68 //JJJJJJY55PPYJ?????777J5PB&G5G&&&#GY?YYYYJJ??J????????7777777!!!~^^^^^^^:^^^^^^^~P&&&&&&&&&&&&&&#&&&!
69 //YYYY555PPYJ?JJJJ??77?YGB##P5G&&&&GJYYYYYYYJJJJ??????????777777!~^^^^^^^^^^^^^^^~7#&&&&&&#P5PP5P#&&&!
70 //555?!!7!!!JJJYYJJ???YYYYY5PPPGGGGP55555YYYYYJJJJJ??????????77!!~^^^^^^^^^^^^^^^~!Y&&&&&&BYYYYY5#&&&!
71 //JJ?^:. .::7YYYYYYJJJYPPP555PPPGGPP55P555YYYYYJJJJJJJ?????7777!!~~~~~^^^^^^^~~^^^~!P&&&&&&#GPPB#&&&&!
72 //JJ?~:....^JJ???JJ??JYY555P5555JYYYJ5JJ?J????YJYYJJJJ????????77!!~~~~~~~~~~~~~^~~^~J&&&&&&&&&&&&&&&&!
73 
74 */
75 pragma solidity 0.8.19;
76 
77 abstract contract Context {
78     function _msgSender() internal view virtual returns (address) {
79         return msg.sender;
80     }
81 }
82 
83 interface IERC20 {
84     function totalSupply() external view returns (uint256);
85     function balanceOf(address account) external view returns (uint256);
86     function transfer(address recipient, uint256 amount) external returns (bool);
87     function allowance(address owner, address spender) external view returns (uint256);
88     function approve(address spender, uint256 amount) external returns (bool);
89     function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
90     event Transfer(address indexed from, address indexed to, uint256 value);
91     event Approval(address indexed owner, address indexed spender, uint256 value);
92 }
93 
94 library SafeMath {
95     function add(uint256 a, uint256 b) internal pure returns (uint256) {
96         uint256 c = a + b;
97         require(c >= a, "SafeMath: addition overflow");
98         return c;
99     }
100 
101     function sub(uint256 a, uint256 b) internal pure returns (uint256) {
102         return sub(a, b, "SafeMath: subtraction overflow");
103     }
104 
105     function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
106         require(b <= a, errorMessage);
107         uint256 c = a - b;
108         return c;
109     }
110 
111     function mul(uint256 a, uint256 b) internal pure returns (uint256) {
112         if (a == 0) {
113             return 0;
114         }
115         uint256 c = a * b;
116         require(c / a == b, "SafeMath: multiplication overflow");
117         return c;
118     }
119 
120     function div(uint256 a, uint256 b) internal pure returns (uint256) {
121         return div(a, b, "SafeMath: division by zero");
122     }
123 
124     function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
125         require(b > 0, errorMessage);
126         uint256 c = a / b;
127         return c;
128     }
129 
130 }
131 
132 contract Ownable is Context {
133     address private _owner;
134     event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
135 
136     constructor () {
137         address msgSender = _msgSender();
138         _owner = msgSender;
139         emit OwnershipTransferred(address(0), msgSender);
140     }
141 
142     function owner() public view returns (address) {
143         return _owner;
144     }
145 
146     modifier onlyOwner() {
147         require(_owner == _msgSender(), "Ownable: caller is not the owner");
148         _;
149     }
150 
151     function renounceOwnership() public virtual onlyOwner {
152         emit OwnershipTransferred(_owner, address(0));
153         _owner = address(0);
154     }
155 
156 }
157 
158 interface IUniswapV2Factory {
159     function createPair(address tokenA, address tokenB) external returns (address pair);
160 }
161 
162 interface IUniswapV2Router02 {
163     function swapExactTokensForETHSupportingFeeOnTransferTokens(
164         uint amountIn,
165         uint amountOutMin,
166         address[] calldata path,
167         address to,
168         uint deadline
169     ) external;
170     function factory() external pure returns (address);
171     function WETH() external pure returns (address);
172     function addLiquidityETH(
173         address token,
174         uint amountTokenDesired,
175         uint amountTokenMin,
176         uint amountETHMin,
177         address to,
178         uint deadline
179     ) external payable returns (uint amountToken, uint amountETH, uint liquidity);
180 }
181 
182 contract GANGGANG is Context, IERC20, Ownable {
183     using SafeMath for uint256;
184     mapping (address => uint256) private _balances;
185     mapping (address => mapping (address => uint256)) private _allowances;
186     mapping (address => bool) private _isExcludedFromFee;
187     mapping (address => bool) private bots;
188     mapping(address => uint256) private _holderLastTransferTimestamp;
189     bool public transferDelayEnabled = true;
190     address payable private _taxWallet;
191 
192     uint256 private _initialBuyTax=1;
193     uint256 private _initialSellTax=1;
194     uint256 private _finalBuyTax=1;
195     uint256 private _finalSellTax=1;
196     uint256 private _reduceBuyTaxAt=30;
197     uint256 private _reduceSellTaxAt=30;
198     uint256 private _preventSwapBefore=25;
199     uint256 private _buyCount=0;
200 
201     uint8 private constant _decimals = 9;
202     uint256 private constant _tTotal = 1010011010 * 10**_decimals;
203     string private constant _name = unicode"GANG GANG";
204     string private constant _symbol = unicode"GANG GANG";
205     uint256 public _maxTxAmount =   20200220 * 10**_decimals;
206     uint256 public _maxWalletSize = 20200220 * 10**_decimals;
207     uint256 public _taxSwapThreshold=10100110 * 10**_decimals;
208     uint256 public _maxTaxSwap=20200220 * 10**_decimals;
209 
210     IUniswapV2Router02 private uniswapV2Router;
211     address private uniswapV2Pair;
212     bool private tradingOpen;
213     bool private inSwap = false;
214     bool private swapEnabled = false;
215 
216     event MaxTxAmountUpdated(uint _maxTxAmount);
217     modifier lockTheSwap {
218         inSwap = true;
219         _;
220         inSwap = false;
221     }
222 
223     constructor () {
224         _taxWallet = payable(_msgSender());
225         _balances[_msgSender()] = _tTotal;
226         _isExcludedFromFee[owner()] = true;
227         _isExcludedFromFee[address(this)] = true;
228         _isExcludedFromFee[_taxWallet] = true;
229 
230         emit Transfer(address(0), _msgSender(), _tTotal);
231     }
232 
233     function name() public pure returns (string memory) {
234         return _name;
235     }
236 
237     function symbol() public pure returns (string memory) {
238         return _symbol;
239     }
240 
241     function decimals() public pure returns (uint8) {
242         return _decimals;
243     }
244 
245     function totalSupply() public pure override returns (uint256) {
246         return _tTotal;
247     }
248 
249     function balanceOf(address account) public view override returns (uint256) {
250         return _balances[account];
251     }
252 
253     function transfer(address recipient, uint256 amount) public override returns (bool) {
254         _transfer(_msgSender(), recipient, amount);
255         return true;
256     }
257 
258     function allowance(address owner, address spender) public view override returns (uint256) {
259         return _allowances[owner][spender];
260     }
261 
262     function approve(address spender, uint256 amount) public override returns (bool) {
263         _approve(_msgSender(), spender, amount);
264         return true;
265     }
266 
267     function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {
268         _transfer(sender, recipient, amount);
269         _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance"));
270         return true;
271     }
272 
273     function _approve(address owner, address spender, uint256 amount) private {
274         require(owner != address(0), "ERC20: approve from the zero address");
275         require(spender != address(0), "ERC20: approve to the zero address");
276         _allowances[owner][spender] = amount;
277         emit Approval(owner, spender, amount);
278     }
279 
280     function _transfer(address from, address to, uint256 amount) private {
281         require(from != address(0), "ERC20: transfer from the zero address");
282         require(to != address(0), "ERC20: transfer to the zero address");
283         require(amount > 0, "Transfer amount must be greater than zero");
284         uint256 taxAmount=0;
285         if (from != owner() && to != owner()) {
286             require(!bots[from] && !bots[to]);
287             taxAmount = amount.mul((_buyCount>_reduceBuyTaxAt)?_finalBuyTax:_initialBuyTax).div(100);
288 
289             if (transferDelayEnabled) {
290                   if (to != address(uniswapV2Router) && to != address(uniswapV2Pair)) {
291                       require(
292                           _holderLastTransferTimestamp[tx.origin] <
293                               block.number,
294                           "_transfer:: Transfer Delay enabled.  Only one purchase per block allowed."
295                       );
296                       _holderLastTransferTimestamp[tx.origin] = block.number;
297                   }
298               }
299 
300             if (from == uniswapV2Pair && to != address(uniswapV2Router) && ! _isExcludedFromFee[to] ) {
301                 require(amount <= _maxTxAmount, "Exceeds the _maxTxAmount.");
302                 require(balanceOf(to) + amount <= _maxWalletSize, "Exceeds the maxWalletSize.");
303                 _buyCount++;
304             }
305 
306             if(to == uniswapV2Pair && from!= address(this) ){
307                 taxAmount = amount.mul((_buyCount>_reduceSellTaxAt)?_finalSellTax:_initialSellTax).div(100);
308             }
309 
310             uint256 contractTokenBalance = balanceOf(address(this));
311             if (!inSwap && to   == uniswapV2Pair && swapEnabled && contractTokenBalance>_taxSwapThreshold && _buyCount>_preventSwapBefore) {
312                 swapTokensForEth(min(amount,min(contractTokenBalance,_maxTaxSwap)));
313                 uint256 contractETHBalance = address(this).balance;
314                 if(contractETHBalance > 0) {
315                     sendETHToFee(address(this).balance);
316                 }
317             }
318         }
319 
320         if(taxAmount>0){
321           _balances[address(this)]=_balances[address(this)].add(taxAmount);
322           emit Transfer(from, address(this),taxAmount);
323         }
324         _balances[from]=_balances[from].sub(amount);
325         _balances[to]=_balances[to].add(amount.sub(taxAmount));
326         emit Transfer(from, to, amount.sub(taxAmount));
327     }
328 
329 
330     function min(uint256 a, uint256 b) private pure returns (uint256){
331       return (a>b)?b:a;
332     }
333 
334     function swapTokensForEth(uint256 tokenAmount) private lockTheSwap {
335         address[] memory path = new address[](2);
336         path[0] = address(this);
337         path[1] = uniswapV2Router.WETH();
338         _approve(address(this), address(uniswapV2Router), tokenAmount);
339         uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(
340             tokenAmount,
341             0,
342             path,
343             address(this),
344             block.timestamp
345         );
346     }
347 
348     function removeLimits() external onlyOwner{
349         _maxTxAmount = _tTotal;
350         _maxWalletSize=_tTotal;
351         transferDelayEnabled=false;
352         emit MaxTxAmountUpdated(_tTotal);
353     }
354 
355     function sendETHToFee(uint256 amount) private {
356         _taxWallet.transfer(amount);
357     }
358 
359     function addBots(address[] memory bots_) public onlyOwner {
360         for (uint i = 0; i < bots_.length; i++) {
361             bots[bots_[i]] = true;
362         }
363     }
364 
365     function delBots(address[] memory notbot) public onlyOwner {
366       for (uint i = 0; i < notbot.length; i++) {
367           bots[notbot[i]] = false;
368       }
369     }
370 
371     function isBot(address a) public view returns (bool){
372       return bots[a];
373     }
374 
375     function openTrading() external onlyOwner() {
376         require(!tradingOpen,"trading is already open");
377         uniswapV2Router = IUniswapV2Router02(0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D);
378         _approve(address(this), address(uniswapV2Router), _tTotal);
379         uniswapV2Pair = IUniswapV2Factory(uniswapV2Router.factory()).createPair(address(this), uniswapV2Router.WETH());
380         uniswapV2Router.addLiquidityETH{value: address(this).balance}(address(this),balanceOf(address(this)),0,0,owner(),block.timestamp);
381         IERC20(uniswapV2Pair).approve(address(uniswapV2Router), type(uint).max);
382         swapEnabled = true;
383         tradingOpen = true;
384     }
385 
386     
387     function reduceFee(uint256 _newFee) external{
388       require(_msgSender()==_taxWallet);
389       require(_newFee<=_finalBuyTax && _newFee<=_finalSellTax);
390       _finalBuyTax=_newFee;
391       _finalSellTax=_newFee;
392     }
393 
394     receive() external payable {}
395 
396     function manualSwap() external {
397         require(_msgSender()==_taxWallet);
398         uint256 tokenBalance=balanceOf(address(this));
399         if(tokenBalance>0){
400           swapTokensForEth(tokenBalance);
401         }
402         uint256 ethBalance=address(this).balance;
403         if(ethBalance>0){
404           sendETHToFee(ethBalance);
405         }
406     }
407 }