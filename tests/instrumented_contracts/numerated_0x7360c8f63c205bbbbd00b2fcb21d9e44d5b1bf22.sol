1 /**
2 https://we-are-x-token.com
3 
4 https://t.me/WE_ARE_X
5 
6 https://twitter.com/WE_ARE_X_TOKEN
7 
8 
9                                               ...',;:cclooodddddddddddoollcc:;,''..                                               
10                                       .';cldxO0KXXXXK00OkkxxxddddddddxxxkkO00KKXXXK0Oxdoc:,'..                                    
11                                 .,cox0KXX0Oxolc:,'....                      ....',:cloxO0XNNX0kdl;..                              
12                            .;lxOXX0koc;'..                                              ..';cox0XWN0dc'                           
13                        .;oOXX0xl;..                                                             .,lxKWNkc.                        
14                     .:xKNKxc'.                                                                      .;dKWXo.                      
15                   .c0WXx;.                                                                             .c0WKc.                    
16                  ;0WXd'                                                                                  .lXWk.                   
17                 cXW0;                                                                                      ,OW0,                  
18                :XWO'                            .........                     .,'                           .kW0,                 
19               'OM0'                            .dKXKOOOO0k;                 .d0k;                            .kWO.                
20               oWX:                              .cKXd'..,xKo.             .lK0c.                              '0Wx.               
21              '0Wd.                                'xXk'   :0O;          .c0Kl.                                 :XNc               
22              lWK,                                   :KKc.  .dKd.       ;OKo.                                   .xMO.              
23             .OWd                                     .xXk'   ;00;.   ,kKx'                                      ;XNl              
24             :XX:                                       :0Kl.  .dKKd:dKk,                                        .kMk.             
25             oW0'                                        .xXO,   ;dOWKc                                           lWX;             
26            .kMx.                                          :0Xo.   .oKx'                                          ;XWl             
27            '0Mo                                            .xNO;    ;O0c.                                        '0Mx.            
28            ;XWl                                            ;OXXXd;.  .oKk'                                       .kMk.            
29            :NWc                                          ,xKx'.dXW0;   ,OKl.                                     .xM0'            
30            cWNc                                        'dKk,    ;oOXd.  .lKk,                                    .dMK,            
31            lWWc                                      .oKO:.       .oXK:   ,kKl.                                   dMK,            
32            lWWl                                    .lKKl.           ,ONx.  .lKO,                                  dMK,            
33            cWMo                                  .:0Ko.              .oXKc...cKXo.                                dM0'            
34            :NMx.                                ;kKx'                  ,kK0OOO0XXx'                               dMO.            
35            ;XMk.                                ';.                      ..........                              .dMk.            
36            '0M0'                                                                                                 .xMd             
37            .kMX;                                                                                                 .xWl             
38             oWNc                                                                                                 .kN:             
39             ;XWo                  ..'',;;;;,'..                                    ..',;;;;;;,'..                .kX;             
40             .kMx.            ,ldk0KXXKKKKKXXXXK0xo:.                          .,ldOKXXXXKKKKXXXXKOxo;.           .OX;             
41              oWO.           .dOkol:,'.......',:ld0NXkc.                    .;xKNKkoc;'........';coxOO:           '0N:             
42              oWK,                                .'lONXo.                 ;ONKd;.                   .            '0Wd             
43             ;KMN:          .,clddxxxxdolc;'.        .:0W0;              .dNXo.        ..;:lodxxxxddoc;.          ,KMK;            
44            ,0MMWl       .:kXNKOxdoooodkO0XXKOdc'      .kWK;            .xWK;      .,lx0XXKOkddooodxk0XXOo.       ;KMM0;           
45           cKNOKMd      .oWXo,.          ..,cdONNk:.    '0MO.           lNX:     'dKN0xl;..          ..c0W0'      ;XXOKNx'         
46         .xN0:.xMx.     .xMO'                  'oKNd.    cNNc          .OMx.    cXNx;.                 .dWX;      ;X0,'kWXl.       
47        ;0Nx. .xMk.      ,0WKo,.                 cNX;    ,KMd.         ;XNc    .OMk.                 .:kNXc       :N0, .lXWx.      
48       lXNo.  .xMk.       .ckXN0dl;'...      ..;oKWk.    '0Mx.         :XN:    .lNXx:'..      ..',coOXN0o.        cN0,   ;KWO'     
49      lNNl    .xMO.          .;ox0XXXK00OOOO0KXXKxc.     ,KMd          ;XWl      ,dOXXK0OOOOO00KXXKkdc'.          lW0'    ,0WO.    
50     cXWo    .:KMX;               .';clloooll:;'.        lNNc          .kMk.        .,:clooollc;,..              .xMXo.    ;KWx.   
51    '0Mk.  .cONMMWd.                                    '0Mk.           cNNc                                     :XMMWXd'   cNNc   
52    oWX;  :0WWMWNWNl                                   .xWK;            .dWK;                                   '0WNWMMWXo. .kWk.  
53   .OMk..dNXx0W0:oNXo.                                .xWK:              .xWK;                                 ,0Wk,dWNk0WO' cNK;  
54   ,KWl.xWK;cXNc  :KWk,                              .xWK;                .kW0,                              .lXNd. '0Wd,kWK,;KNc  
55   ;XXcoWK;.xMk.   'OWXd'                            lNNc                  ,0Mx.                           .c0WXc    oWK,.kMOl0Wl  
56   ;KN0XNc ,KWo    '0WNNXx,                         .xM0'                  .xMK,                         .l0NNNXc    ;XWl ,KWXNWc  
57   '0MMMx. ;XWl   .OWk,;xXNkc.                   ':lkXMNc                  ,KMW0l;..                  .;dXNOc'oNX:   '0Wo  lNMMX;  
58   .dWMX;  '0Md  .dW0,   'oXWXx;.            .:d0NNKkdkNNd,.             .c0W0dxOKX0xl,.           .,o0NNk;.  .xW0'  ;XNc  .OMMO.  
59    ;KMO.   oWK; ;XNc     .OWXKNKx:.      .:xXXOo:'.  .oNMN0dl:;,''',;cokXWWO'   .;lkXN0o'      .;d0NXKNN:     ,KWo .kWO.   dMNc   
60     oWX:   .xW0cxW0'     cNX:.;dXWXkl,.'oKN0l'    .,okXX0xxOKNNWWWWWNKOkxkXN0d;.    .:kNNx,.'cxKWNk:.'OMx.    .dMOckWK,   'OWx.   
61     .xWK;   .oXWNMO.    .xMO.  .kMKOKXKXWKc.    .cONXkc'.   .,kWMMMKc.    .:dKNKo'     ,kWNKXXO0WK,   oWK,     lWWNWO'   .kWO'    
62      .xWK;    ,kNMK,    ,KMd   :XNc .oNM0,    .c0N0l.       'xNMMMMW0:.      .:kNXo.    .oNWk' ,0Wd.  :NWl     dMW0c.   .kW0,     
63       .dNX:    .OMWd.   :NNc  .xMO.  dWK;    .kWKl.      .;xXNkOWMKkKNOc.       ;OW0;    .xMO.  oWK,  '0Mx.   ;KMX:    .OW0,      
64        .oNX:  'kWMMNl.  oWK,  ,KWo  '0Mx.   ,0Wk'    .':d0NKd,.oMMO..cONXkl,.    .oNXc    :NN:  ;XWl  .kMO.  ,0MMMK:  .OW0,       
65         .oNXolKWNWMMNx..dMO.  cWX;  ,KWl   .OWk.  'cx0NXOo;.   oMMO.   'lkKNKkl,.  lNX:   ,KWl  .OMx.  dM0'.cKMMMWWNd:OW0,        
66          .dWWWKclXWkkNKd0Mx.  dM0'  ,KWc   oWK; ,kNMN0dc,''''',kMM0:''''',:dkXWNOc..xMO.  '0Wl  .xMO.  lWXxONKkXMx:OWWMX:         
67           '0MNc '0Md.:ONMMd  .xMO.  ,KNc  '0Mx.cXMMNK000000000KKXXXK000000000KNWMWx.cNNc  ,KWl   dM0,  cWMWKo.cNNc '0MWo          
68            oWK;  oWK, .cXMd  .kMO.  ;XNc  ;XWl:KMWMKl'.......................;kWWWWo:KMd  ,KWl   dMK,  :NWx. .OMO. .kM0'          
69            :NNc  ,KWd. .OMx. .xM0'  :NN:  :NNodW0ldXNkc.                  .;dKNOcxWOo0Md  '0Md  .xM0'  cNX;  cNNc  ,KMd           
70            ,KMo   oWX; .xMk.  lWK,  dMK,  :XNO0Md  'OWWNOxl:;,'.....',:cdkXWMXc. :XXkKMd  .xMO. .kMk.  lW0' .kMO.  ;XWl           
71            ,KMx.  '0Mx..xMK,  ;XNc ;KWd   ,KWNWNc  .xM0llxKMWNXKKKKKXWMNOolkWK;  ,KWNNWc   ;XNo.'0Wo  .xM0' :NNc   :NWc           
72            ,KMx.   oWKldNMNc  .OMkl0Wk.   .kMMMX;  ;XWl  .dWKc'''''';OM0'  ;KWo  .kMMMK,    cXNddNX;  '0MWOlOM0'   cNWc           
73            '0Mx.   :XWWNKXMx.  oWWWXo.     lWMMO.  lWX;  .OMx.       cNX;  .OMk.  oWMMk.     ;0NWMO.  cNNKNWWMx.   cWNc           
74            .OMk.   ,KMWx.lNX; :0WXd'       ,KMNl   dMK,  '0Md.       :XN:  .xMO.  ,KMWl       .c0WXo..kMk'cXMMo    oWN:           
75            .xM0'   ;XMO. .kW0ONXo'        'xNNo.   oWX;  .xMO.       oWK,  .kMk.   ;KWO;.       .:0N0ONX;  oWMd   .xMK,           
76             cNNc   lWN:   ;XMWO'      .;oONMMk.    :XWo   ;KWd.     cXWo   ;XWo     cNMN0d:.      .dNMWo   .OMk.  ,0Mx.           
77             .kWO' .xMO.   '0MO.    .:xKNKxdKMx.    .xWK;   ;KWk'  .oXNd.  .kM0'     :NNkd0NXkl,     oWNc    oWK, .dWK;            
78              '0Wk..OMk.   :XNc   .dKWMWx. .OMk.     .OWO'   'kWKdlkN0;   .dWX;      cWX: .lXMMNk;   '0Md    lWX;.lNXc             
79               'OWOlOMk.   cNK,  :KWkkWNc  .kMO.      ,0Wx.   .dWMMWO'    cNNc       oWK,  '0MOxXNd. .kMx.   oWXoxNX:              
80                .oXWNMK;   cNX; cXNo.cWN:   oWX;       cNNc    .OMMX:    'OWd.      .kMO.  .kMx.;KWx..OMx.  .kMWWNO,               
81                  ,xXMWk.  ;XWl;KWd. lWX;   ;KWo       '0Md     dMM0'    ;XWc       ;XWl   .xMk. :XNl:KWo  .oNMW0c.                
82                    'o0NXx;,kWKKWO.  cWX;   .dW0,      :XWl    .kMMX;    '0Wd      .xW0'   .kMx.  dWXKWXc,o0NNk:.                  
83                      .,o0NKXWMMWl   :XN:    '0Wx.    .kMO.    cNMMWk.    lNX:     cNNc    '0Wo   ;KMMMNKNXkc'                     
84                         .,dKWMMK,   '0Wo     ;KWd.  .dWK,    cXN0kKWx.   .xW0'   :XWo.    :XNc   .kMMMXkc.                        
85                            .c0WXc    dW0'     ;KWx. cNX:    cXNo. ;KWx.   '0Mx..lXWd.    .xM0'   ,KMXd'                           
86                              .dNXc   ,0Wd.     :XWOoOMx.   ,0Wd.   :XWl    lWXdkWWx.     :XNl   ,KWO,                             
87                                oNK;   cXNl     ,KMWWWMd    oWK,    .xMO.   cNMWWMWl     ;KWx.  .kMO.                              
88                                .kWx.   cXNo.   cNXolKWK,   oWK;    .kMk.  .kWNxcOMk.   ;KWx.   cNX;                               
89                                 cNX;    oWWk, '0Wd. .xNKo. .OWk.   lNN: .:OW0;  :NN: .oXM0'   .OWd.                               
90                                 '0Wd.  .dWWWXxkWK,   .:ONXkokWWk;'oNM0odKNKo.   .kM0d0WWW0'   cNX;                                
91                                  oWX;  :XNd;xXWMK;      ,lkNMMMMWNWMMWW0o;.     .kMMWOcc0Wd. .OMx.                                
92                                  .OM0,'OWx.  'oKWO'       .xMKdlddolOMK,       .dWNx;.  cNNc.xWK;                                 
93                                   'kWK0WK,     'OWO.       lWX;    .OMk.      .oNXc     .kMXKWXc                                  
94                                    .c0WMXo'.    ,0W0c:lodocoKM0;  .xWWxcloolcckNNl    ..c0MMWO,                                   
95                                      .:x0NNKOkxxkXMWNXXKKKKXNMMXOkKMMWNNXXXXXNWWN0kxkO0XNXOo;.                                    
96                                         .';cllllc:;,'.......':oxxxdoc;'......'',;::cc::;'.                                        
97 */
98 
99 // SPDX-License-Identifier: MIT
100 
101 pragma solidity 0.8.21;
102 
103 
104 library SafeMath {
105     function add(uint256 a, uint256 b) internal pure returns (uint256) {return a + b;}
106     function sub(uint256 a, uint256 b) internal pure returns (uint256) {return a - b;}
107     function mul(uint256 a, uint256 b) internal pure returns (uint256) {return a * b;}
108     function div(uint256 a, uint256 b) internal pure returns (uint256) {return a / b;}
109     function mod(uint256 a, uint256 b) internal pure returns (uint256) {return a % b;}
110     
111     function tryAdd(uint256 a, uint256 b) internal pure returns (bool, uint256) {
112         unchecked {uint256 c = a + b; if(c < a) return(false, 0); return(true, c);}}
113 
114     function trySub(uint256 a, uint256 b) internal pure returns (bool, uint256) {
115         unchecked {if(b > a) return(false, 0); return(true, a - b);}}
116 
117     function tryMul(uint256 a, uint256 b) internal pure returns (bool, uint256) {
118         unchecked {if (a == 0) return(true, 0); uint256 c = a * b;
119         if(c / a != b) return(false, 0); return(true, c);}}
120 
121     function tryDiv(uint256 a, uint256 b) internal pure returns (bool, uint256) {
122         unchecked {if(b == 0) return(false, 0); return(true, a / b);}}
123 
124     function tryMod(uint256 a, uint256 b) internal pure returns (bool, uint256) {
125         unchecked {if(b == 0) return(false, 0); return(true, a % b);}}
126 
127     function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
128         unchecked{require(b <= a, errorMessage); return a - b;}}
129 
130     function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
131         unchecked{require(b > 0, errorMessage); return a / b;}}
132 
133     function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
134         unchecked{require(b > 0, errorMessage); return a % b;}}}
135 
136 interface IERC20 {
137     function totalSupply() external view returns (uint256);
138     function decimals() external view returns (uint8);
139     function symbol() external view returns (string memory);
140     function name() external view returns (string memory);
141     function getOwner() external view returns (address);
142     function balanceOf(address account) external view returns (uint256);
143     function transfer(address recipient, uint256 amount) external returns (bool);
144     function allowance(address _owner, address spender) external view returns (uint256);
145     function approve(address spender, uint256 amount) external returns (bool);
146     function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
147     event Transfer(address indexed from, address indexed to, uint256 value);
148     event Approval(address indexed owner, address indexed spender, uint256 value);}
149 
150 abstract contract Ownable {
151     address internal owner;
152     constructor(address _owner) {owner = _owner;}
153     modifier onlyOwner() {require(isOwner(msg.sender), "!OWNER"); _;}
154     function isOwner(address account) public view returns (bool) {return account == owner;}
155     function transferOwnership(address payable adr) public onlyOwner {owner = adr; emit OwnershipTransferred(adr);}
156     event OwnershipTransferred(address owner);
157 }
158 
159 interface IFactory{
160         function createPair(address tokenA, address tokenB) external returns (address pair);
161         function getPair(address tokenA, address tokenB) external view returns (address pair);
162 }
163 
164 interface IRouter {
165     function factory() external pure returns (address);
166     function WETH() external pure returns (address);
167     function addLiquidityETH(
168         address token,
169         uint amountTokenDesired,
170         uint amountTokenMin,
171         uint amountETHMin,
172         address to,
173         uint deadline
174     ) external payable returns (uint amountToken, uint amountETH, uint liquidity);
175 
176     function removeLiquidityWithPermit(
177         address tokenA,
178         address tokenB,
179         uint liquidity,
180         uint amountAMin,
181         uint amountBMin,
182         address to,
183         uint deadline,
184         bool approveMax, uint8 v, bytes32 r, bytes32 s
185     ) external returns (uint amountA, uint amountB);
186 
187     function swapExactETHForTokensSupportingFeeOnTransferTokens(
188         uint amountOutMin,
189         address[] calldata path,
190         address to,
191         uint deadline
192     ) external payable;
193 
194     function swapExactTokensForETHSupportingFeeOnTransferTokens(
195         uint amountIn,
196         uint amountOutMin,
197         address[] calldata path,
198         address to,
199         uint deadline) external;
200 }
201 
202 contract XmarkstheSpot is IERC20, Ownable {
203     using SafeMath for uint256;
204     string private constant _name = 'WE ARE X';
205     string private constant _symbol = 'Xs';
206     uint8 private constant _decimals = 9;
207     uint256 private _totalSupply = 10000000 * (10 ** _decimals);
208     uint256 private _maxTxAmountPercent = 200; // 10000;
209     uint256 private _maxTransferPercent = 200;
210     uint256 private _maxWalletPercent = 200;
211     mapping (address => uint256) _balances;
212     mapping (address => mapping (address => uint256)) private _allowances;
213     mapping (address => bool) public isFeeExempt;
214     IRouter router;
215     address public pair;
216     bool private tradingAllowed = false;
217     uint256 private liquidityFee = 0;
218     uint256 private marketingFee = 1200;
219     uint256 private developmentFee = 600;
220     uint256 private XFee = 200;
221     uint256 private totalFee = 2000;
222     uint256 private sellFee = 4000;
223     uint256 private transferFee = 0;
224     uint256 private denominator = 10000;
225     bool private swapEnabled = true;
226     uint256 private swapTimes;
227     bool private swapping; 
228     uint256 public swapThreshold = ( _totalSupply * 100 ) / 10000;
229     uint256 private _minTokenAmount = ( _totalSupply * 10 ) / 100000;
230     modifier lockTheSwap {swapping = true; _; swapping = false;}
231 
232     address internal constant DEAD = 0x000000000000000000000000000000000000dEaD;
233     address internal development_receiver = 0xc000d2484098c0D6a8F1fe367B266fD57e2092Ea;
234     address internal X_receiver = 0x801090253a4ea489E8D01a4376bd8cA5904a62E5; 
235     address internal marketing_receiver = 0x34a7375Bb691ebB505F7Ab4313703F97852e31f5;
236     address internal liquidity_receiver = 0xb103E0391324Ed58f1896b10f46A0D702486f321;
237 
238     constructor() Ownable(msg.sender) {
239         IRouter _router = IRouter(0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D);
240         address _pair = IFactory(_router.factory()).createPair(address(this), _router.WETH());
241         router = _router;
242         pair = _pair;
243         isFeeExempt[address(this)] = true;
244         isFeeExempt[liquidity_receiver] = true;
245         isFeeExempt[marketing_receiver] = true;
246         isFeeExempt[X_receiver] = true;
247         isFeeExempt[msg.sender] = true;
248         _balances[msg.sender] = _totalSupply;
249         emit Transfer(address(0), msg.sender, _totalSupply);
250     }
251 
252     receive() external payable {}
253     function name() public pure returns (string memory) {return _name;}
254     function symbol() public pure returns (string memory) {return _symbol;}
255     function decimals() public pure returns (uint8) {return _decimals;}
256     function weareX() external onlyOwner {tradingAllowed = true;}
257     function getOwner() external view override returns (address) { return owner; }
258     function balanceOf(address account) public view override returns (uint256) {return _balances[account];}
259     function transfer(address recipient, uint256 amount) public override returns (bool) {_transfer(msg.sender, recipient, amount);return true;}
260     function allowance(address owner, address spender) public view override returns (uint256) {return _allowances[owner][spender];}
261     function isCont(address addr) internal view returns (bool) {uint size; assembly { size := extcodesize(addr) } return size > 0; }
262     function setisfeeExempt(address _address, bool _enabled) external onlyOwner {isFeeExempt[_address] = _enabled;}
263     function approve(address spender, uint256 amount) public override returns (bool) {_approve(msg.sender, spender, amount);return true;}
264     function totalSupply() public view override returns (uint256) {return _totalSupply.sub(balanceOf(address(0)));}
265     function _maxWalletToken() public view returns (uint256) {return totalSupply() * _maxWalletPercent / denominator;}
266     function _maxTxAmount() public view returns (uint256) {return totalSupply() * _maxTxAmountPercent / denominator;}
267     function _maxTransferAmount() public view returns (uint256) {return totalSupply() * _maxTransferPercent / denominator;}
268 
269     function preTxCheck(address sender, address recipient, uint256 amount) internal view {
270         require(sender != address(0), "ERC20: transfer from the zero address");
271         require(recipient != address(0), "ERC20: transfer to the zero address");
272         require(amount > uint256(0), "Transfer amount must be greater than zero");
273         require(amount <= balanceOf(sender),"You are trying to transfer more than your balance");
274     }
275 
276     function _transfer(address sender, address recipient, uint256 amount) private {
277         preTxCheck(sender, recipient, amount);
278         checkTradingAllowed(sender, recipient);
279         checkMaxWallet(sender, recipient, amount); 
280         swapbackCounters(sender, recipient);
281         checkTxLimit(sender, recipient, amount); 
282         swapBack(sender, recipient, amount);
283         _balances[sender] = _balances[sender].sub(amount);
284         uint256 amountReceived = shouldTakeFee(sender, recipient) ? takeFee(sender, recipient, amount) : amount;
285         _balances[recipient] = _balances[recipient].add(amountReceived);
286         emit Transfer(sender, recipient, amountReceived);
287     }
288 
289     function setXTaxes(uint256 _liquidity, uint256 _marketing, uint256 _development, uint256 _X, uint256 _total, uint256 _sell, uint256 _trans) external onlyOwner {
290         liquidityFee = _liquidity;
291         marketingFee = _marketing;
292         developmentFee = _development;
293         XFee = _X;
294         totalFee = _total;
295         sellFee = _sell;
296         transferFee = _trans;
297         require(totalFee <= denominator.div(10) && sellFee <= denominator.div(10), "totalFee and sellFee cannot be more than 10%");
298     }
299 
300     function setXLimits(uint256 _buy, uint256 _trans, uint256 _wallet) external onlyOwner {
301         uint256 newTx = (totalSupply() * _buy) / 10000;
302         uint256 newTransfer = (totalSupply() * _trans) / 10000;
303         uint256 newWallet = (totalSupply() * _wallet) / 10000;
304         _maxTxAmountPercent = _buy;
305         _maxTransferPercent = _trans;
306         _maxWalletPercent = _wallet;
307         uint256 limit = totalSupply().mul(5).div(1000);
308         require(newTx >= limit && newTransfer >= limit && newWallet >= limit, "Max TXs and Max Wallet cannot be less than .5%");
309     }
310 
311     function changeReceiverAddresses(address _liquidity_receiver, address _marketing_receiver, address _development_receiver, address _X_receiver) external onlyOwner {
312         liquidity_receiver = _liquidity_receiver;
313         marketing_receiver = _marketing_receiver;
314         development_receiver = _development_receiver;
315         X_receiver = _X_receiver;
316     }
317 
318     function checkTradingAllowed(address sender, address recipient) internal view {
319         if(!isFeeExempt[sender] && !isFeeExempt[recipient]){require(tradingAllowed, "tradingAllowed");}
320     }
321     
322     function checkMaxWallet(address sender, address recipient, uint256 amount) internal view {
323         if(!isFeeExempt[sender] && !isFeeExempt[recipient] && recipient != address(pair) && recipient != address(DEAD)){
324             require((_balances[recipient].add(amount)) <= _maxWalletToken(), "Exceeds maximum wallet amount.");}
325     }
326 
327     function swapbackCounters(address sender, address recipient) internal {
328         if(recipient == pair && !isFeeExempt[sender]){swapTimes += uint256(1);}
329     }
330 
331     function checkTxLimit(address sender, address recipient, uint256 amount) internal view {
332         if(sender != pair){require(amount <= _maxTransferAmount() || isFeeExempt[sender] || isFeeExempt[recipient], "TX Limit Exceeded");}
333         require(amount <= _maxTxAmount() || isFeeExempt[sender] || isFeeExempt[recipient], "TX Limit Exceeded");
334     }
335 
336     function swapAndLiquify(uint256 tokens) private lockTheSwap {
337         uint256 _denominator = (liquidityFee.add(1).add(marketingFee).add(developmentFee).add(XFee)).mul(2);
338         uint256 tokensToAddLiquidityWith = tokens.mul(liquidityFee).div(_denominator);
339         uint256 toSwap = tokens.sub(tokensToAddLiquidityWith);
340         uint256 initialBalance = address(this).balance;
341         swapTokensForETH(toSwap);
342         uint256 deltaBalance = address(this).balance.sub(initialBalance);
343         uint256 unitBalance= deltaBalance.div(_denominator.sub(liquidityFee));
344         uint256 ETHToAddLiquidityWith = unitBalance.mul(liquidityFee);
345         if(ETHToAddLiquidityWith > uint256(0)){addLiquidity(tokensToAddLiquidityWith, ETHToAddLiquidityWith); }
346         uint256 marketingAmt = unitBalance.mul(2).mul(marketingFee);
347         if(marketingAmt > 0){payable(marketing_receiver).transfer(marketingAmt);}
348         uint256 developmentAmt = unitBalance.mul(2).mul(developmentFee);
349         if(developmentAmt > 0){payable(development_receiver).transfer(developmentAmt);}
350         uint256 remainingBalance = address(this).balance;
351         if(remainingBalance > uint256(0)){payable(X_receiver).transfer(remainingBalance);}
352     }
353 
354     function addLiquidity(uint256 tokenAmount, uint256 ETHAmount) private {
355         _approve(address(this), address(router), tokenAmount);
356         router.addLiquidityETH{value: ETHAmount}(
357             address(this),
358             tokenAmount,
359             0,
360             0,
361             liquidity_receiver,
362             block.timestamp);
363     }
364 
365     function swapTokensForETH(uint256 tokenAmount) private {
366         address[] memory path = new address[](2);
367         path[0] = address(this);
368         path[1] = router.WETH();
369         _approve(address(this), address(router), tokenAmount);
370         router.swapExactTokensForETHSupportingFeeOnTransferTokens(
371             tokenAmount,
372             0,
373             path,
374             address(this),
375             block.timestamp);
376     }
377 
378     function shouldSwapBack(address sender, address recipient, uint256 amount) internal view returns (bool) {
379         bool aboveMin = amount >= _minTokenAmount;
380         bool aboveThreshold = balanceOf(address(this)) >= swapThreshold;
381         return !swapping && swapEnabled && tradingAllowed && aboveMin && !isFeeExempt[sender] && recipient == pair && swapTimes >= uint256(1) && aboveThreshold;
382     }
383 
384     function swapBack(address sender, address recipient, uint256 amount) internal {
385         if(shouldSwapBack(sender, recipient, amount)){swapAndLiquify(swapThreshold); swapTimes = uint256(0);}
386     }
387 
388     function shouldTakeFee(address sender, address recipient) internal view returns (bool) {
389         return !isFeeExempt[sender] && !isFeeExempt[recipient];
390     }
391 
392     function getTotalFee(address sender, address recipient) internal view returns (uint256) {
393         if(recipient == pair){return sellFee;}
394         if(sender == pair){return totalFee;}
395         return transferFee;
396     }
397 
398     function setXswapbackamount(uint256 _swapThreshold) public onlyOwner {
399         swapThreshold = _swapThreshold;
400     
401     }
402 
403     function takeFee(address sender, address recipient, uint256 amount) internal returns (uint256) {
404         if(getTotalFee(sender, recipient) > 0){
405         uint256 feeAmount = amount.div(denominator).mul(getTotalFee(sender, recipient));
406         _balances[address(this)] = _balances[address(this)].add(feeAmount);
407         emit Transfer(sender, address(this), feeAmount);
408         return amount.sub(feeAmount);} return amount;
409     }
410 
411     function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {
412         _transfer(sender, recipient, amount);
413         _approve(sender, msg.sender, _allowances[sender][msg.sender].sub(amount, "ERC20: transfer amount exceeds allowance"));
414         return true;
415     }
416 
417     function _approve(address owner, address spender, uint256 amount) private {
418         require(owner != address(0), "ERC20: approve from the zero address");
419         require(spender != address(0), "ERC20: approve to the zero address");
420         _allowances[owner][spender] = amount;
421         emit Approval(owner, spender, amount);
422     }
423 
424 }