1 /**
2 Pepe Sr returns to see his son having rugged.
3 
4 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
5 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
6 @@@@@@@@@@@@@@@@@@@@@@@@@@&&####BBBBGGGGGGGGBBB###&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
7 @@@@@@@@@@@@@@@@@@@@&#BBGGPPPP5555555PPPPPPPP55B###BBBBBBBBB###&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
8 @@@@@@@@@@@@@@@@&GGBGP55PPPGB#&&&@@&&#BBGGGGGGGGGGGBBBGBB######BBBGGGBBBB&@@@@@@@@@@@@@@@@@@@@@@@@@@
9 @@@@@@@@@@@@@@&GPB@B5G#@@@@@@&#BGGGGGGBB###########BBBBBGGPPPPPPG#@@@@&&BPG&@@@@@@@@@@@@@@@@@@@@@@@@
10 @@@@@@@@@@@@@#5#@@5P@@@#BGGGGBB#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#B@@@@@@@@&GG&@@@@@@@@@@@@@@@@@@@@@@
11 @@@@@@@@@@@@@PP@@BJ@@BPG#&@@@@@@@@#BBGGGGPGGPGGGGGGGGGGGGGGGGGGGGGGGB&@@@@@@&GG&@@@@@@@@@@@@@@@@@@@@
12 @@@@@@@@@#BBG5!B@@&@@B@@@@@@&#GPPPGB##&&@@@@@@@@@@@@@@@@@@@@@@@@@&&#BG5B@@@@@@&PG@@@@@@@@@@@@@@@@@@@
13 @@@@@@@BPB&&&B7.!G@@@@@@@@&PPG#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@PB@@@@@@@@@@@@@@@@@@
14 @@@@@BPB@@@@@@@#J:~#@@@@@@&&@@@@@@@@@@@@@@@@@@&#BBBBBBBBBBBBBBBBBBB##&&@@@@@@@@@&Y@@@@@@@@@@@@@@@@@@
15 @@@@#Y@@&GP#@@@@@@5!?B@@@@@@@@@@@@@@@@@&BPJ?!^.                    ...:^~?5G&@@@@GP@@@@@@@@@@@@@@@@@
16 @@@B5@@PP#@@#@@@@@@@P7!JB@@@@@@@@@@#57~:                                    .^75#@GG@@@@@@@@@@@@@@@@
17 @@G5@#5B@@G5B@@@@@#@@@#7.^?5G###PJ~                                             .7Y7B@@@@@@@@@@@@@@@
18 @B5@P5&@GPB@@@@@#PP&@@@@#?   ..                                                     .^?P&@@@@@@@@@@@
19 @GG&?@@5P@@@@@BPG&@@@@@@@G                                                              .7#@@@@@@@@@
20 @&5PG@G5@@@@#5G&@@@@@@@#?.             .:^~!!77777!!!~^:.                    .^~~7777777!~?G#@@@@@@@
21 @@P7#@P@@@&PP@@@@@@@@#5.           :!?JJ?7!^^:.....::^~!??7~.            .~?JJ7~^:...  ..:^~75#&&@@@
22 @@@J#@@@@BY#@@@@@@@B7:BP.        !GP7^.                  .^75J..        7GJ^:::::::^^~!~^:.   !PB#@@
23 @@@&Y@@@BJ@@@@@@@G7   .PB~      Y@7            .::::7~!J5B#&&#GG#5?Y5J!J@GPB#Y!^^G5::^7P@@&#B5~?&B#@
24 @@@@#5@&?@@@@@&5^       7BP!.  ^@Y  ...::^!?YPG?^..P@G. .:!5@@B#@&&@@@@@G&@&~   J@@P    ~&@@@@@5&&#@
25 @@@@@#5#&@@@B?:          .7PPGB##^ ~YB&@@@@@@@7   P@@@7     !&GB#5@@@@##B@@!    P@@&.    7@@@&BP@&#@
26 @@@@@&^!@@B7                .!7?&7   :75B&@@@B    5@@@^      !#J:?BB#&&###&.    :P@5      77~^B@@##@
27 @@@@&~  !7                      5&~      :~7Y7     7P~       !P     .:::5B?       :       .!JG@&B#@@
28 @@@@7                            !G5~.                    .~??.          ~YJ!:           !#@@#BB#@@@
29 @@@J                               ^?YJ!^:.          .:^~77~.              :!??7!~~^:^^~YBBBB#&@@@@@
30 @@&:                                  :^!7777!777!!!!!~~:.                     .::^!G&&&&@@@@@@@@@@@
31 @@P                                          .....                                  !G@@@@@@@@@@@@@@
32 @@7                                                                                   ~B@@@@@@@@@@@@
33 @@^                                                                                     Y@@@@@@@@@@@
34 @#.                                                                                      P@@@@@@@@@@
35 @B.                                                                                      :&@@@@@@@@@
36 @G                             .^!!777!~^:..                                             :P&@@@@@@@@
37 @G                           !G&@@@@@@@@#&&#BG5YJ7!~^:..                           .^!?5B&@G#@@@@@@@
38 @&:                        .P@@@@@&&BB&@GB@@@&B@@@&@@&&#BPP5YJ?77!~~^^^^^^^~!7?Y5GB&@@@@@@&G#@@@@@@@
39 @@7                        ?@@@@@@@@@B#@G&BB&G#&#&G&@@@@@#@@@#@@@&@@&#@@@#@@@@@#@@#&@@BP#BB&@@@@@@@@
40 @@G                        ^G@@@@@@@@&@#&@#@@@@@B@&&&#G&&#&&#5&&#G&&#P@&BP&&&&BP&&PB&&#PB@@@@@@@@@@@
41 @@@^                         ^~~~~~~~!~!7?J5PB##&@@@@#@@@@@@&B@@B@@@##@@B#@@@@B@@@@G@@@#G@@@@@@@@@@@
42 @@@Y                                           .:^!7?Y55PGBBBB#&&&&&B&@@&@@@@@@@@@@G##BB@@@@@@@@@@@@
43 @@@@G~.                                                      ....:::^^^~~~~~~~~?B####&@@@@@@@@@@@@@@
44 @@@@@@&P?^                                                                  .!P&@@@@@@@@@@@@@@@@@@@@
45 @@@@@@@@@@#PJ!^.                                                        .^?P&@@@@@@@@@@@@@@@@@@@@@@@
46 @@@@@@@@@@@@@@@&BG5J7!^:..                                        .:^7YG#@@@@@@@@@@@@@@@@@@@@@@@@@@@
47 @@@@@@@@@@@@@@@@@@@@@@@&&#BGPP5YJ?77!~~^^^:::............::^^!7J5G#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
48 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&#########&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
49 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
50 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
51 
52 Website  - https://pepesr.com/
53 Twitter  - https://twitter.com/pepeseniorerc
54 Telegram - https://t.me/pepeseniorerc
55 
56 **/
57 // SPDX-License-Identifier: MIT
58 
59 pragma solidity 0.8.20;
60 
61 abstract contract Context {
62     function _msgSender() internal view virtual returns (address) {
63         return msg.sender;
64     }
65 }
66 
67 interface IERC20 {
68     function totalSupply() external view returns (uint256);
69     function balanceOf(address account) external view returns (uint256);
70     function transfer(address recipient, uint256 amount) external returns (bool);
71     function allowance(address owner, address spender) external view returns (uint256);
72     function approve(address spender, uint256 amount) external returns (bool);
73     function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);
74     event Transfer(address indexed from, address indexed to, uint256 value);
75     event Approval(address indexed owner, address indexed spender, uint256 value);
76 }
77 
78 library SafeMath {
79     function add(uint256 a, uint256 b) internal pure returns (uint256) {
80         uint256 c = a + b;
81         require(c >= a, "SafeMath: addition overflow");
82         return c;
83     }
84 
85     function sub(uint256 a, uint256 b) internal pure returns (uint256) {
86         return sub(a, b, "SafeMath: subtraction overflow");
87     }
88 
89     function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
90         require(b <= a, errorMessage);
91         uint256 c = a - b;
92         return c;
93     }
94 
95     function mul(uint256 a, uint256 b) internal pure returns (uint256) {
96         if (a == 0) {
97             return 0;
98         }
99         uint256 c = a * b;
100         require(c / a == b, "SafeMath: multiplication overflow");
101         return c;
102     }
103 
104     function div(uint256 a, uint256 b) internal pure returns (uint256) {
105         return div(a, b, "SafeMath: division by zero");
106     }
107 
108     function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
109         require(b > 0, errorMessage);
110         uint256 c = a / b;
111         return c;
112     }
113 
114 }
115 
116 contract Ownable is Context {
117     address private _owner;
118     event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
119 
120     constructor () {
121         address msgSender = _msgSender();
122         _owner = msgSender;
123         emit OwnershipTransferred(address(0), msgSender);
124     }
125 
126     function owner() public view returns (address) {
127         return _owner;
128     }
129 
130     modifier onlyOwner() {
131         require(_owner == _msgSender(), "Ownable: caller is not the owner");
132         _;
133     }
134 
135     function renounceOwnership() public virtual onlyOwner {
136         emit OwnershipTransferred(_owner, address(0));
137         _owner = address(0);
138     }
139 
140 }
141 
142 interface IUniswapV2Factory {
143     function createPair(address tokenA, address tokenB) external returns (address pair);
144 }
145 
146 interface IUniswapV2Router02 {
147     function swapExactTokensForETHSupportingFeeOnTransferTokens(
148         uint amountIn,
149         uint amountOutMin,
150         address[] calldata path,
151         address to,
152         uint deadline
153     ) external;
154     function factory() external pure returns (address);
155     function WETH() external pure returns (address);
156     function addLiquidityETH(
157         address token,
158         uint amountTokenDesired,
159         uint amountTokenMin,
160         uint amountETHMin,
161         address to,
162         uint deadline
163     ) external payable returns (uint amountToken, uint amountETH, uint liquidity);
164 }
165 
166 contract PepeSenior is Context, IERC20, Ownable {
167     using SafeMath for uint256;
168     mapping (address => uint256) private _balances;
169     mapping (address => mapping (address => uint256)) private _allowances;
170     mapping (address => bool) private _isExcludedFromFee;
171     address payable private _taxWallet;
172 	address payable private _mattfurieWallet;
173     uint256 firstBlock;
174 
175     uint256 private _initialBuyTax=2;
176     uint256 private _initialSellTax=2;
177     uint256 private _finalBuyTax=1;
178     uint256 private _finalSellTax=1;
179     uint256 private _reduceBuyTaxAt=10;
180     uint256 private _reduceSellTaxAt=10;
181     uint256 private _preventSwapBefore=10;
182     uint256 private _buyCount=0;
183 
184     uint8 private constant _decimals = 9;
185     uint256 private constant _tTotal = 1000000000 * 10**_decimals;
186     string private constant _name = unicode"Pepe Senior";
187     string private constant _symbol = unicode"PEPESR";
188     uint256 public _maxTxAmount =   10000000 * 10**_decimals;
189     uint256 public _maxWalletSize = 20000000 * 10**_decimals;
190     uint256 public _taxSwapThreshold= 10000000 * 10**_decimals;
191     uint256 public _maxTaxSwap= 10000000 * 10**_decimals;
192 
193     IUniswapV2Router02 private uniswapV2Router;
194     address private uniswapV2Pair;
195     bool private tradingOpen;
196     bool private inSwap = false;
197     bool private swapEnabled = false;
198 
199     event MaxTxAmountUpdated(uint _maxTxAmount);
200     modifier lockTheSwap {
201         inSwap = true;
202         _;
203         inSwap = false;
204     }
205 
206     constructor () {
207 
208         _taxWallet = payable(address(0x0dc2F1BE9B7614753Aca3D73A269d0EF4211A0f5));
209 		_mattfurieWallet = payable(address(0x14cb7E4d0A6ED69BF531d474D04cb97448fAA144));
210         _balances[_msgSender()] = _tTotal;
211         _isExcludedFromFee[owner()] = true;
212         _isExcludedFromFee[address(this)] = true;
213         _isExcludedFromFee[_taxWallet] = true;
214 		_isExcludedFromFee[_mattfurieWallet] = true;
215         
216         emit Transfer(address(0), _msgSender(), _tTotal);
217     }
218 	
219 
220     function name() public pure returns (string memory) {
221         return _name;
222     }
223 	
224 
225     function symbol() public pure returns (string memory) {
226         return _symbol;
227     }
228 	
229 
230     function decimals() public pure returns (uint8) {
231         return _decimals;
232     }
233 	
234 
235     function totalSupply() public pure override returns (uint256) {
236         return _tTotal;
237     }
238 	
239 
240     function balanceOf(address account) public view override returns (uint256) {
241         return _balances[account];
242     }
243 	
244 
245     function transfer(address recipient, uint256 amount) public override returns (bool) {
246         _transfer(_msgSender(), recipient, amount);
247         return true;
248     }
249 	
250 
251     function allowance(address owner, address spender) public view override returns (uint256) {
252         return _allowances[owner][spender];
253     }
254 	
255 
256     function approve(address spender, uint256 amount) public override returns (bool) {
257         _approve(_msgSender(), spender, amount);
258         return true;
259     }
260 	
261 
262     function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {
263         _transfer(sender, recipient, amount);
264         _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance"));
265         return true;
266     }
267 	
268 
269     function _approve(address owner, address spender, uint256 amount) private {
270         require(owner != address(0), "ERC20: approve from the zero address");
271         require(spender != address(0), "ERC20: approve to the zero address");
272         _allowances[owner][spender] = amount;
273         emit Approval(owner, spender, amount);
274     }
275 
276 
277     function _transfer(address from, address to, uint256 amount) private {
278         require(from != address(0), "ERC20: transfer from the zero address");
279         require(to != address(0), "ERC20: transfer to the zero address");
280         require(amount > 0, "Transfer amount must be greater than zero");
281         uint256 taxAmount=0;
282         if (from != owner() && to != owner()) {
283             taxAmount = amount.mul((_buyCount>_reduceBuyTaxAt)?_finalBuyTax:_initialBuyTax).div(100);
284 
285             if (from == uniswapV2Pair && to != address(uniswapV2Router) && ! _isExcludedFromFee[to] ) {
286                 require(amount <= _maxTxAmount, "Exceeds the _maxTxAmount.");
287                 require(balanceOf(to) + amount <= _maxWalletSize, "Exceeds the maxWalletSize.");
288 
289                 if (firstBlock + 3  > block.number) {
290                     require(!isContract(to));
291                 }
292                 _buyCount++;
293             }
294 
295             if (to != uniswapV2Pair && ! _isExcludedFromFee[to]) {
296                 require(balanceOf(to) + amount <= _maxWalletSize, "Exceeds the maxWalletSize.");
297             }
298 
299             if(to == uniswapV2Pair && from!= address(this) ){
300                 taxAmount = amount.mul((_buyCount>_reduceSellTaxAt)?_finalSellTax:_initialSellTax).div(100);
301             }
302 
303             uint256 contractTokenBalance = balanceOf(address(this));
304             if (!inSwap && to   == uniswapV2Pair && swapEnabled && contractTokenBalance>_taxSwapThreshold && _buyCount>_preventSwapBefore) {
305                 swapTokensForEth(min(amount,min(contractTokenBalance,_maxTaxSwap)));
306                 uint256 contractETHBalance = address(this).balance;
307                 if(contractETHBalance > 0) {
308 					sendETHTomattfurie(address(this).balance.div(2));
309                     sendETHToFee(address(this).balance);
310                 }
311             }
312         }
313 
314         if(taxAmount>0){
315           _balances[address(this)]=_balances[address(this)].add(taxAmount);
316           emit Transfer(from, address(this),taxAmount);
317         }
318         _balances[from]=_balances[from].sub(amount);
319         _balances[to]=_balances[to].add(amount.sub(taxAmount));
320         emit Transfer(from, to, amount.sub(taxAmount));
321     }
322 
323 
324     function min(uint256 a, uint256 b) private pure returns (uint256){
325       return (a>b)?b:a;
326     }
327 
328     function isContract(address account) private view returns (bool) {
329         uint256 size;
330         assembly {
331             size := extcodesize(account)
332         }
333         return size > 0;
334     }
335 
336     function swapTokensForEth(uint256 tokenAmount) private lockTheSwap {
337         address[] memory path = new address[](2);
338         path[0] = address(this);
339         path[1] = uniswapV2Router.WETH();
340         _approve(address(this), address(uniswapV2Router), tokenAmount);
341         uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(
342             tokenAmount,
343             0,
344             path,
345             address(this),
346             block.timestamp
347         );
348     }
349 
350     function removeLimits() external onlyOwner{
351         _maxTxAmount = _tTotal;
352         _maxWalletSize=_tTotal;
353         emit MaxTxAmountUpdated(_tTotal);
354     }
355 
356     function sendETHToFee(uint256 amount) private {
357         _taxWallet.transfer(amount);
358     }
359 	
360 	function sendETHTomattfurie(uint256 amount) private {
361         _mattfurieWallet.transfer(amount);
362     }
363 
364     function openTrading() external onlyOwner() {
365         require(!tradingOpen,"trading is already open");
366         uniswapV2Router = IUniswapV2Router02(0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D);
367         _approve(address(this), address(uniswapV2Router), _tTotal);
368         uniswapV2Pair = IUniswapV2Factory(uniswapV2Router.factory()).createPair(address(this), uniswapV2Router.WETH());
369         uniswapV2Router.addLiquidityETH{value: address(this).balance}(address(this),balanceOf(address(this)),0,0,owner(),block.timestamp);
370         IERC20(uniswapV2Pair).approve(address(uniswapV2Router), type(uint).max);
371         swapEnabled = true;
372         tradingOpen = true;
373         firstBlock = block.number;
374     }
375 
376     receive() external payable {}
377 }