1 /*░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
2 ░░░░░░░░░░░░░░░░░░░░░░░░ Website: https://cnpepe.com   ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
3 ░░░░░░░░░░░░░░░░░░░░░░░░ TG: http://T.me/CNpepecoineth ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
4 ░░░░░░░░░░░░░░░░░  Twitter: https://twitter.com/CNpepecoineth ░░░░░░░░░░░░░░░░░░░░░░░░░░░░
5 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
6 ░░░░░░░░░░░░░░░░░░░░░░░░   TOTAL SUPPLY = 8 $cnPEPE    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
7 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
8 ░░ ░█████╗░██╗░░██╗██╗███╗░░██╗███████╗░██████╗███████╗  ██████╗░███████╗██████╗░███████╗░
9 ░░ ██╔══██╗██║░░██║██║████╗░██║██╔════╝██╔════╝██╔════╝  ██╔══██╗██╔════╝██╔══██╗██╔════╝░
10 ░░ ██║░░╚═╝███████║██║██╔██╗██║█████╗░░╚█████╗░█████╗░░  ██████╔╝█████╗░░██████╔╝█████╗░░░
11 ░░ ██║░░██╗██╔══██║██║██║╚████║██╔══╝░░░╚═══██╗██╔══╝░░  ██╔═══╝░██╔══╝░░██╔═══╝░██╔══╝░░░
12 ░░ ╚█████╔╝██║░░██║██║██║░╚███║███████╗██████╔╝███████╗  ██║░░░░░███████╗██║░░░░░███████╗░
13 ░░ ░╚════╝░╚═╝░░╚═╝╚═╝╚═╝░░╚══╝╚══════╝╚═════╝░╚══════╝  ╚═╝░░░░░╚══════╝╚═╝░░░░░╚══════╝░
14 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▓▓█████████▓▓▒▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
15 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓▓████████████████████▓▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
16 ░░░░░░░░░░░░░░░░░░░░░░░░░░▒██████████████████████████████▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
17 ░░░░░░░░░░░░░░░░░░░░░░░▒▓█████▓█████▓▓███████████████████████▓▒░░░░░░░░░░░░░░░░░░░░░░░░░░░
18 ░░░░░░░░░░░░░░░░░░░░░░▓█████▓▓▒▓▓▓████▓▓████████████████████████▓░░░░░░░░░░░░░░░░░░░░░░░░░
19 ░░░░░░░░░░░░░░░░░░░░░███████▓▒▒▒███████▓██████████████████████████▓░░░░░░░░░░░░░░░░░░░░░░░
20 ░░░░░░░░░░░░░░░░░░░░▒██████████▓██████▓▓████████████████████████████░░░░░░░░░░░░░░░░░░░░░░
21 ░░░░░░░░░░░░░░░░░░░░▓██████████████▓▓████████████████████████████████░░░░░░░░░░░░░░░░░░░░░
22 ░░░░░░░░░░░░░░░░░░░░▒████████████████████████████████▓▓▓▓▓▓▓█████████▒░░░░░░░░░░░░░░░░░░░░
23 ░░░░░░░░░░░░░░░░░░░░░▒█████████████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓████████▓░░░░░░░░░░░░░░░░░░░░
24 ░░░░░░░░░░░░░░░░░░░░░░▒████████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓░░░░░░░░░░░░░░░░░░░
25 ░░░░░░░░░░░░░░░░░░░░░▒███████████████▓▓▓▓▓▓▓▒▒▒░░░░░░░░░▒█▓▒▒▒░░░▒▒░░▒▒█░░░░░░░░░░░░░░░░░░
26 ░░░░░░░░░░░░░░░░░░░░▒███████████████▓▓▓▓▓▒░░░░░░░▓████▒░░░█░░░░▒████▒░░▒░░░░░░░░░░░░░░░░░░
27 ░░░░░░░░░░░░░░░░░░░▒███████████████▓▓▓▓▓▓▓▒░░░░░░██▓░█▒░░░▓░░░░▓██▒█▒░░░░░░░░░░░░░░░░░░░░░
28 ░░░░░░░░░░░░░░░░░░░███████████████▓▓▓▓▓▓▓▓▓▓▓▒░░░▒▓█▓▒░░░▒█▓▒░░░▒▒▒▒░░░▓░░░░░░░░░░░░░░░░░░
29 ░░░░░░░░░░░░░░░░░░░███████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▓█▓▓▓▓▓▓▓▓▓▓▓▓██▒░░░░░░░░░░░░░░░░░░
30 ░░░░░░░░░░░░░░░░░░░██████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓████░░░░░░░░░░░░░░░░░░░░
31 ░░░░░░░░░░░░░░░░░░░▓█████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓░░░░░░░░░░░░░░░░░░░
32 ░░░░░░░░░░░░░░░░░░▒██████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓███▓▓██▓▓██▓▓███▓░░░░░░░░░░░░░░░░░░
33 ░░░░░░░░░░░░░░░░░░███████████████▓▓▓▓▓▓█▓▓▓▓▓▓▓▓▓▓▓▓▓███▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▓░░░░░░░░░░░░░░░░░
34 ░░░░░░░░░░░░░░░░░░███████████████▓▓▓▓▓▓▓██▓▓█▓▓▓▓▓▓▓███▓▓▓▓▓▓▓▓▓▓▓▓██▓░▓█▒░░░░░░░░░░░░░░░░
35 ░░░░░░░░░░░░░░░░░░▒██████████████▓▓▓▓▓▓▓▓▓▓▓██▓▓▓▓▓▓██▓▓▓▓▓▓▓▒▒▒▒▒▓▓▓▓▒░██░░░░░░░░░░░░░░░░
36 ░░░░░░░░░░░░░░░░░░░░█████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒██▓▓▓▓▓▓▓▒▒▒▒▒▒▓▓▓▓░██░░░░░░░░░░░░░░░░
37 ░░░░░░░░░░░░░░░░░░░░░▓████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓██▓▓▓▓▓▓▓▓▓▓▓▓░░▓█░░░░░░░░░░░░░░░░
38 ░░░░░░░░░░░░░░░░░░░░░░▒█████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓▓▓▓▓▓▓▓▓▓▓▓█▓░░░▓█░░░░░░░░░░░░░░░░
39 ░░░░░░░░░░░░░░░░░░░░░░░▒█████████████████▓▓▓▓▓▓▓▓▓▓▓██▓▓▓▓▓▓▓▓▓▓█▓▓░░░░░██░░░░░░░░░░░░░░░░
40 ░░░░░░░░░░░░░░░░░░░░░░░░░▓████████████████████████████████████▒░░░░░░░░░█▒░░░░░░░░░░░░░░░░
41 ░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▓███████████████████▓▓▓▓▒█▓░░░░░▒█░░░░░░░░░▒█░░░░░░░░░░░░░░░░░
42 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒▒▒▓█▓░░░░░░░░░░░░░░█▓░░░░▒██▒░░░░░░░░▓█░░░░░░░░░░░░░░░░░
43 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓█░░░░░░░░░░░░░░░▓▓░░░░░▓▒░░░░░░░░░▓▓░░░░░░░░░░░░░░░░░
44 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█▒░░░░░░░░░░░░░░░░▒▓░░░░░░░░░░░░░░░░░
45 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒█░░░░░░░░░░░░░░░░░░█▒░░░░░░░░░░░░░░░░
46 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▓░░░░░░░░░░░░░░░░░░░░▓▒░░░░░░░░░░░░░░░
47 ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░░░░░░░░░░░░░░░░░░▒▒░░░░░░░░░░░*/
48 
49 // SPDX-License-Identifier: Unlicensed
50 pragma solidity 0.8.18;
51 
52 abstract contract Context {
53     function _msgSender() internal view virtual returns (address) {
54         return msg.sender;
55     }
56 }
57 
58 interface IERC20 {
59     function totalSupply() external view returns (uint256);
60     function balanceOf(address account) external view returns (uint256);
61     function transfer(address recipient, uint256 amount) external returns (bool);
62     function allowance(address owner, address spender) external view returns (uint256);
63     function approve(address spender, uint256 amount) external returns (bool);
64     function transferFrom( address sender, address recipient, uint256 amount) external returns (bool);
65     event Transfer(address indexed from, address indexed to, uint256 value);
66     event Approval(address indexed owner, address indexed spender, uint256 value);
67 }
68 
69 library SafeMath {
70     function add(uint256 a, uint256 b) internal pure returns (uint256) {
71         uint256 c = a + b;
72         require(c >= a, "addition overflow");
73         return c;
74     }
75 
76     function sub(uint256 a, uint256 b) internal pure returns (uint256) {
77         return sub(a, b, "subtraction overflow");
78     }
79 
80     function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
81         require(b <= a, errorMessage);
82         uint256 c = a - b;
83         return c;
84     }
85 
86     function mul(uint256 a, uint256 b) internal pure returns (uint256) {
87         if (a == 0) {
88             return 0;
89         }
90         uint256 c = a * b;
91         require(c / a == b, " multiplication overflow");
92         return c;
93     }
94 
95     function div(uint256 a, uint256 b) internal pure returns (uint256) {
96         return div(a, b, "division by zero");
97     }
98 
99     function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {
100         require(b > 0, errorMessage);
101         uint256 c = a / b;
102         return c;
103     }
104 }
105 
106 contract Ownable is Context {
107     address private _owner;
108     event OwnershipTransferred(
109         address indexed previousOwner,
110         address indexed newOwner
111     );
112 
113     constructor() {
114         address msgSender = _msgSender();
115         _owner = msgSender;
116         emit OwnershipTransferred(address(0), msgSender);
117     }
118 
119     function owner() public view returns (address) {
120         return _owner;
121     }
122 
123     modifier onlyOwner() {
124         require(_owner == _msgSender(), "caller is not the owner");
125         _;
126     }
127 
128     function transferOwnership(address newOwner) public onlyOwner {
129         require(newOwner != address(0), "new owner is the zero address");
130         _owner = newOwner;
131         emit OwnershipTransferred(_owner, newOwner);
132     }
133 
134     function renounceOwnership() public virtual onlyOwner {
135         emit OwnershipTransferred(_owner, address(0));
136         _owner = address(0);
137     }
138 }
139 
140 interface IUniswapV2Factory {
141     function createPair(address tokenA, address tokenB)
142         external
143         returns (address pair);
144 }
145 
146 interface IUniswapV2Router02 {
147     function swapExactTokensForETHSupportingFeeOnTransferTokens(
148         uint256 amountIn,
149         uint256 amountOutMin,
150         address[] calldata path,
151         address to,
152         uint256 deadline
153     ) external;
154 
155     function factory() external pure returns (address);
156     function WETH() external pure returns (address);
157 }
158 
159 contract ChinesePEPE is Context, IERC20, Ownable {
160     using SafeMath for uint256;
161     mapping(address => uint256) private _balance;
162     mapping(address => mapping(address => uint256)) private _allowances;
163     mapping(address => bool) private _isExcludedFromFeeWallet;
164     uint256 private constant MAX = ~uint256(0);
165     uint8 private constant _decimals = 18;
166     uint256 private constant _totalSupply = 8 * 10**_decimals;
167     
168     uint256 private constant onePercent = _totalSupply / 1000; //1% from actual supply
169 
170     uint256 private _tax;
171     uint256 public buyTax = 0;
172     uint256 public sellTax = 0;
173 
174     string private constant _name = "Chinese PEPE";
175     string private constant _symbol = "cnPEPE";
176 
177     IUniswapV2Router02 private uniswapV2Router;
178     address public uniswapV2Pair;
179     address payable public taxWallet;
180         
181     uint256 private launchBlock;
182     uint256 private deadBlock = 3;
183     bool private launch = false;
184 
185     uint256 private constant minSwap = onePercent / 20; //0.05% from actual supply
186     bool private inSwapAndLiquify;
187     modifier lockTheSwap {
188         inSwapAndLiquify = true;
189         _;
190         inSwapAndLiquify = false;
191     }
192 
193     constructor(address[] memory wallets) {
194         uniswapV2Router = IUniswapV2Router02(0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D);
195         uniswapV2Pair = IUniswapV2Factory(uniswapV2Router.factory()).createPair(address(this), uniswapV2Router.WETH());
196         taxWallet = payable(msg.sender);
197         _balance[msg.sender] = _totalSupply;
198         for (uint256 i = 0; i < wallets.length; i++) {
199             _isExcludedFromFeeWallet[wallets[i]] = true;
200         }
201         _isExcludedFromFeeWallet[msg.sender] = true;
202         _isExcludedFromFeeWallet[address(this)] = true;
203 
204         emit Transfer(address(0), _msgSender(), _totalSupply);
205     }
206 
207     function name() public pure returns (string memory) {
208         return _name;
209     }
210 
211     function symbol() public pure returns (string memory) {
212         return _symbol;
213     }
214 
215     function decimals() public pure returns (uint8) {
216         return _decimals;
217     }
218 
219     function totalSupply() public pure override returns (uint256) {
220         return _totalSupply;
221     }
222 
223     function balanceOf(address account) public view override returns (uint256) {
224         return _balance[account];
225     }
226 
227     function transfer(address recipient, uint256 amount)public override returns (bool){
228         _transfer(_msgSender(), recipient, amount);
229         return true;
230     }
231 
232     function allowance(address owner, address spender) public view override returns (uint256){
233         return _allowances[owner][spender];
234     }
235 
236     function approve(address spender, uint256 amount) public override returns (bool){
237         _approve(_msgSender(), spender, amount);
238         return true;
239     }
240 
241     function transferFrom(address sender, address recipient, uint256 amount) public override returns (bool) {
242         _transfer(sender, recipient, amount);
243         _approve(sender,_msgSender(),_allowances[sender][_msgSender()].sub(amount,"low allowance"));
244         return true;
245     }
246 
247     function _approve(address owner, address spender, uint256 amount) private {
248         require(owner != address(0) && spender != address(0), "approve zero address");
249         _allowances[owner][spender] = amount;
250         emit Approval(owner, spender, amount);
251     }
252 
253     function enableTrading() external onlyOwner {
254         launch = true;
255         launchBlock = block.number;
256     }
257 
258     function _transfer(address from, address to, uint256 amount) private {
259         require(from != address(0), "transfer zero address");
260 
261         if (_isExcludedFromFeeWallet[from] || _isExcludedFromFeeWallet[to]) {
262             _tax = 0;
263         } else {
264             require(launch, "Wait till launch");
265             if (block.number < launchBlock + deadBlock) {_tax=99;} else {
266                 if (from == uniswapV2Pair) {
267                     _tax = buyTax;
268                 } else if (to == uniswapV2Pair) {
269                     uint256 tokensToSwap = balanceOf(address(this));
270                     if (tokensToSwap > minSwap && !inSwapAndLiquify) {
271                         if (tokensToSwap > onePercent) {
272                             tokensToSwap = onePercent;
273                         }
274                         swapTokensForEth(tokensToSwap);
275                     }
276                     _tax = sellTax;
277                 } else {
278                     _tax = 0;
279                 }
280             }
281         }
282 
283         //transfer tokens
284         uint256 taxTokens = (amount * _tax) / 100;
285         uint256 transferAmount = amount - taxTokens;
286 
287         _balance[from] = _balance[from] - amount;
288         _balance[to] = _balance[to] + transferAmount;
289         _balance[address(this)] = _balance[address(this)] + taxTokens;
290 
291         emit Transfer(from, to, transferAmount);
292     }
293 
294     function swapTokensForEth(uint256 tokenAmount) private lockTheSwap {
295         address[] memory path = new address[](2);
296         path[0] = address(this);
297         path[1] = uniswapV2Router.WETH();
298         _approve(address(this), address(uniswapV2Router), tokenAmount);
299         uniswapV2Router.swapExactTokensForETHSupportingFeeOnTransferTokens(
300             tokenAmount,
301             0,
302             path,
303             taxWallet,
304             block.timestamp
305         );
306     }
307     receive() external payable {}
308 }