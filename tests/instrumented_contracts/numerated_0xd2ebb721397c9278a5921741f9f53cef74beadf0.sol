1 // File: contracts/fruitowngremlinsWtFruit.sol
2 // ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((
3 // ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((
4 // ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((
5 // (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((//FruitTownGremlins.WTFruit((
6 // (((((((((((((((((((((((((((((((((((  ((((((((((((((((((((((((((((((((((//By Keith (GIP) Miller((((((
7 // ((((((((((((((((((((((((((((((/( ((((((((((((((((((((((((((((((((((((((((((((((((//and((((((((((((((
8 // ((((((((((((((((((((((((((((((((/ (((% ((((((.   ****,,,,((((((((((((((//Eric (SudoAkula) Webb((((((
9 // (((((((((((((((((((((((**(( (%(( ((((%%(((( ****. ****,,((((((((((((((((((((((((((((((((((((((((((((
10 // ((((((((((((((((((((./(((/(((.%@ ***.%%/, *  ,,,,,,,  ((((((((((((((((((((((((((((((((((((((((((((((
11 // (((((((((((((((((((( # (( ((((#%  (%% / %/ ((       ((((((((((((((((((((((((((((((((((((((((((((((((
12 // ((((((((((((((((((((((((%#   ,%% **% %%% @%  .   ,,,  , (((((((((((((#((((((((((((((((((((((((((((((
13 // (((((((((((((((((((((((((  ( ( %%(  (,%@%.,,., ,,..,,,,,, (((((((( ###.(((((((((((((((((((((((((((((
14 // ((((((((((((((((((((((((((  ((((*.%%%%/ ,,,,,,,,,,,,,,,,,,, (((/ ##  # (((((((((((((((((((((((((((((
15 // (((((((((((((((((((((((( ,... ((((((  @&.## ,.,,,,,,,,,,,,,,, ##. *#* # ((((((((((((((((((((((((((((
16 // ((((((((((((((((((((((( .......,.,,,,,,,  @%  ,,,,,,   ,,,,,,,  **##*# # (((((((((((((((((((((((((((
17 // (((((((((((((((((((((((,....,,,.,,,, %%%&%##%%%%,,, ,. ,,,,,,,, ***#,,## (((((((((((((((((((((((((((
18 // (((((((((((((((((((((( ..,..,,,,,,,  %#    @/  %.,,, &&&  (,,,,,,.## * *((((((((((((((((((((((((((((
19 // ((((((((((((((( ,.  (( ..,,.,,,,,,,,,      #%%  .,,,      .,,,,,,, *, *# (((((((((((((((((((((((((((
20 // ((((((((((((((( ( *  ( ..,,,,,,,,,,,,, %        .,,******,,,,,,,,. ##*# (,((((((((((((((((((((((((((
21 // ((((((((((((((( (###(((..,,,,,,,,,,,,,  ,,,., ,,,,,*////////,,,,.. #### ((((((((((((((((((((((((((((
22 // ((((((((((((((( *##(( ### (# ,,,.,,,,,,,,,,,,,,,,,** ////***  ,,... ## (((((((((((((((((((((((((((((
23 // ((((((((((((((((( (##*  . **##  ...,,,,,,,,,,,,,    ,,,   ,,,,,,,...((((((((((((((((((((((((((((((((
24 // ((((((((((((((((((((((( ....# ## ,,,,,,,,,,,,,,,,,,,.  ,,  ,, ,,,,,..(((((((((((((((((((((((((((((((
25 // (((((((((((((((((((((((( .,.. ,,, .,,,,,,,,,,,,,,, ,,,,,,,,,,,.,,,,,. ((((((((((((((((((((((((((((((
26 // ((((((((((((((((((((((((( ..,,....,.,,,,,,,,,,,,,,  .  *%& ,,,(,,,,,,.((((((((((((((((((((((((((((((
27 // ((((((((((((((((((((((((((....,,,,,,,,,,,,,,,,,,,,,,,,,**//(( ,,,,,,,(((((((((((((((((((((((((((((((
28 // (((((((((((((((((((((((((((....,,.,.,...,,,,,,,,,,,,  ** ,,,,,,,,,,, (((((((((((((((((((((((((((((((
29 // ((((((((((((((((((((((((((((,.....,.,....,..,,,,,,,,, ,,,,  ,,,,,,,. (((((((((((((((((((((((((((((((
30 // ((((((((((((((((((((((((((((((*....,,.,.,..,....,,,,,,,,,,,,,,,,,, (((((((((((((((((((((((((((((((((
31 // ((((((((((((((((((((((((((((((((......,,,.,,,..,.,,....,,,,,,,,,, ((((((((((((((((((((((((((((((((((
32 // (((((((((((((((((((((((((((((((((( ... ....,,,......,,,,,,,,,,,, (((((((((((((((((((((((((((((((((((
33 // (((((((((((((((((((((((((((((((((( %%  ...... .,,,,,,  (       ((( (((((((((((((((((((((((((((((((((
34 // ((((((((((((((((((((((((((((((((  (%% % ((((((( %  (((((((((((((.( % % (((((((((((((((((((((((((((((
35 // (((((((((((((((((((((((((((((((( /%/   ((((((( %%%%% .(((((((((( (%%%/ (((((((((((((((((((((((((((((
36 // (((((((((((((((((((((((((((((((((((%%%((((%%%%%%%%%#(%(%%%%.((((( #(((((((((((((((((((((((((((((((((
37 // (((((((((((((((((((((((((((((((((( %%#%%%#( (%%%(%%%%%%%%%  (%%%% .%%(((((((((((((((((((((((((((((((
38 // ((((((((((((((((((((((((((((((((((((((  ((  (% %%  (((((*  %(  (((. ((((((((((((((((((((((((((((((((
39 // ((((((((((((((((((((((((((((((((((((((((((( (%% #%%%(%%%( %% (((((((((((((((((((((((((((((((((((((((
40 // (((((((((((((((((((((((((((((((((((((((((((((/( (%(%%%%%%*((((((((((((((((((((((((((((((((((((((((((
41 // (((((((((((((((((((((((((((((((((((((((((((((((((%%%% %(%  (((((((((((((((((((((((((((((((((((((((((
42 
43 
44 // File: @openzeppelin/contracts/utils/math/SafeMath.sol
45 // OpenZeppelin Contracts (last updated v4.6.0) (utils/math/SafeMath.sol)
46 
47 pragma solidity ^0.8.0;
48 
49 // CAUTION
50 // This version of SafeMath should only be used with Solidity 0.8 or later,
51 // because it relies on the compiler's built in overflow checks.
52 
53 /**
54  * @dev Wrappers over Solidity's arithmetic operations.
55  *
56  * NOTE: `SafeMath` is generally not needed starting with Solidity 0.8, since the compiler
57  * now has built in overflow checking.
58  */
59 library SafeMath {
60     /**
61      * @dev Returns the addition of two unsigned integers, with an overflow flag.
62      *
63      * _Available since v3.4._
64      */
65     function tryAdd(uint256 a, uint256 b) internal pure returns (bool, uint256) {
66         unchecked {
67             uint256 c = a + b;
68             if (c < a) return (false, 0);
69             return (true, c);
70         }
71     }
72 
73     /**
74      * @dev Returns the subtraction of two unsigned integers, with an overflow flag.
75      *
76      * _Available since v3.4._
77      */
78     function trySub(uint256 a, uint256 b) internal pure returns (bool, uint256) {
79         unchecked {
80             if (b > a) return (false, 0);
81             return (true, a - b);
82         }
83     }
84 
85     /**
86      * @dev Returns the multiplication of two unsigned integers, with an overflow flag.
87      *
88      * _Available since v3.4._
89      */
90     function tryMul(uint256 a, uint256 b) internal pure returns (bool, uint256) {
91         unchecked {
92             // Gas optimization: this is cheaper than requiring 'a' not being zero, but the
93             // benefit is lost if 'b' is also tested.
94             // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522
95             if (a == 0) return (true, 0);
96             uint256 c = a * b;
97             if (c / a != b) return (false, 0);
98             return (true, c);
99         }
100     }
101 
102     /**
103      * @dev Returns the division of two unsigned integers, with a division by zero flag.
104      *
105      * _Available since v3.4._
106      */
107     function tryDiv(uint256 a, uint256 b) internal pure returns (bool, uint256) {
108         unchecked {
109             if (b == 0) return (false, 0);
110             return (true, a / b);
111         }
112     }
113 
114     /**
115      * @dev Returns the remainder of dividing two unsigned integers, with a division by zero flag.
116      *
117      * _Available since v3.4._
118      */
119     function tryMod(uint256 a, uint256 b) internal pure returns (bool, uint256) {
120         unchecked {
121             if (b == 0) return (false, 0);
122             return (true, a % b);
123         }
124     }
125 
126     /**
127      * @dev Returns the addition of two unsigned integers, reverting on
128      * overflow.
129      *
130      * Counterpart to Solidity's `+` operator.
131      *
132      * Requirements:
133      *
134      * - Addition cannot overflow.
135      */
136     function add(uint256 a, uint256 b) internal pure returns (uint256) {
137         return a + b;
138     }
139 
140     /**
141      * @dev Returns the subtraction of two unsigned integers, reverting on
142      * overflow (when the result is negative).
143      *
144      * Counterpart to Solidity's `-` operator.
145      *
146      * Requirements:
147      *
148      * - Subtraction cannot overflow.
149      */
150     function sub(uint256 a, uint256 b) internal pure returns (uint256) {
151         return a - b;
152     }
153 
154     /**
155      * @dev Returns the multiplication of two unsigned integers, reverting on
156      * overflow.
157      *
158      * Counterpart to Solidity's `*` operator.
159      *
160      * Requirements:
161      *
162      * - Multiplication cannot overflow.
163      */
164     function mul(uint256 a, uint256 b) internal pure returns (uint256) {
165         return a * b;
166     }
167 
168     /**
169      * @dev Returns the integer division of two unsigned integers, reverting on
170      * division by zero. The result is rounded towards zero.
171      *
172      * Counterpart to Solidity's `/` operator.
173      *
174      * Requirements:
175      *
176      * - The divisor cannot be zero.
177      */
178     function div(uint256 a, uint256 b) internal pure returns (uint256) {
179         return a / b;
180     }
181 
182     /**
183      * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
184      * reverting when dividing by zero.
185      *
186      * Counterpart to Solidity's `%` operator. This function uses a `revert`
187      * opcode (which leaves remaining gas untouched) while Solidity uses an
188      * invalid opcode to revert (consuming all remaining gas).
189      *
190      * Requirements:
191      *
192      * - The divisor cannot be zero.
193      */
194     function mod(uint256 a, uint256 b) internal pure returns (uint256) {
195         return a % b;
196     }
197 
198     /**
199      * @dev Returns the subtraction of two unsigned integers, reverting with custom message on
200      * overflow (when the result is negative).
201      *
202      * CAUTION: This function is deprecated because it requires allocating memory for the error
203      * message unnecessarily. For custom revert reasons use {trySub}.
204      *
205      * Counterpart to Solidity's `-` operator.
206      *
207      * Requirements:
208      *
209      * - Subtraction cannot overflow.
210      */
211     function sub(
212         uint256 a,
213         uint256 b,
214         string memory errorMessage
215     ) internal pure returns (uint256) {
216         unchecked {
217             require(b <= a, errorMessage);
218             return a - b;
219         }
220     }
221 
222     /**
223      * @dev Returns the integer division of two unsigned integers, reverting with custom message on
224      * division by zero. The result is rounded towards zero.
225      *
226      * Counterpart to Solidity's `/` operator. Note: this function uses a
227      * `revert` opcode (which leaves remaining gas untouched) while Solidity
228      * uses an invalid opcode to revert (consuming all remaining gas).
229      *
230      * Requirements:
231      *
232      * - The divisor cannot be zero.
233      */
234     function div(
235         uint256 a,
236         uint256 b,
237         string memory errorMessage
238     ) internal pure returns (uint256) {
239         unchecked {
240             require(b > 0, errorMessage);
241             return a / b;
242         }
243     }
244 
245     /**
246      * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
247      * reverting with custom message when dividing by zero.
248      *
249      * CAUTION: This function is deprecated because it requires allocating memory for the error
250      * message unnecessarily. For custom revert reasons use {tryMod}.
251      *
252      * Counterpart to Solidity's `%` operator. This function uses a `revert`
253      * opcode (which leaves remaining gas untouched) while Solidity uses an
254      * invalid opcode to revert (consuming all remaining gas).
255      *
256      * Requirements:
257      *
258      * - The divisor cannot be zero.
259      */
260     function mod(
261         uint256 a,
262         uint256 b,
263         string memory errorMessage
264     ) internal pure returns (uint256) {
265         unchecked {
266             require(b > 0, errorMessage);
267             return a % b;
268         }
269     }
270 }
271 
272 // File: @openzeppelin/contracts/utils/Context.sol
273 
274 
275 // OpenZeppelin Contracts v4.4.1 (utils/Context.sol)
276 
277 pragma solidity ^0.8.0;
278 
279 /**
280  * @dev Provides information about the current execution context, including the
281  * sender of the transaction and its data. While these are generally available
282  * via msg.sender and msg.data, they should not be accessed in such a direct
283  * manner, since when dealing with meta-transactions the account sending and
284  * paying for execution may not be the actual sender (as far as an application
285  * is concerned).
286  *
287  * This contract is only required for intermediate, library-like contracts.
288  */
289 abstract contract Context {
290     function _msgSender() internal view virtual returns (address) {
291         return msg.sender;
292     }
293 
294     function _msgData() internal view virtual returns (bytes calldata) {
295         return msg.data;
296     }
297 }
298 
299 // File: @openzeppelin/contracts/security/Pausable.sol
300 
301 
302 // OpenZeppelin Contracts (last updated v4.7.0) (security/Pausable.sol)
303 
304 pragma solidity ^0.8.0;
305 
306 
307 /**
308  * @dev Contract module which allows children to implement an emergency stop
309  * mechanism that can be triggered by an authorized account.
310  *
311  * This module is used through inheritance. It will make available the
312  * modifiers `whenNotPaused` and `whenPaused`, which can be applied to
313  * the functions of your contract. Note that they will not be pausable by
314  * simply including this module, only once the modifiers are put in place.
315  */
316 abstract contract Pausable is Context {
317     /**
318      * @dev Emitted when the pause is triggered by `account`.
319      */
320     event Paused(address account);
321 
322     /**
323      * @dev Emitted when the pause is lifted by `account`.
324      */
325     event Unpaused(address account);
326 
327     bool private _paused;
328 
329     /**
330      * @dev Initializes the contract in unpaused state.
331      */
332     constructor() {
333         _paused = false;
334     }
335 
336     /**
337      * @dev Modifier to make a function callable only when the contract is not paused.
338      *
339      * Requirements:
340      *
341      * - The contract must not be paused.
342      */
343     modifier whenNotPaused() {
344         _requireNotPaused();
345         _;
346     }
347 
348     /**
349      * @dev Modifier to make a function callable only when the contract is paused.
350      *
351      * Requirements:
352      *
353      * - The contract must be paused.
354      */
355     modifier whenPaused() {
356         _requirePaused();
357         _;
358     }
359 
360     /**
361      * @dev Returns true if the contract is paused, and false otherwise.
362      */
363     function paused() public view virtual returns (bool) {
364         return _paused;
365     }
366 
367     /**
368      * @dev Throws if the contract is paused.
369      */
370     function _requireNotPaused() internal view virtual {
371         require(!paused(), "Pausable: paused");
372     }
373 
374     /**
375      * @dev Throws if the contract is not paused.
376      */
377     function _requirePaused() internal view virtual {
378         require(paused(), "Pausable: not paused");
379     }
380 
381     /**
382      * @dev Triggers stopped state.
383      *
384      * Requirements:
385      *
386      * - The contract must not be paused.
387      */
388     function _pause() internal virtual whenNotPaused {
389         _paused = true;
390         emit Paused(_msgSender());
391     }
392 
393     /**
394      * @dev Returns to normal state.
395      *
396      * Requirements:
397      *
398      * - The contract must be paused.
399      */
400     function _unpause() internal virtual whenPaused {
401         _paused = false;
402         emit Unpaused(_msgSender());
403     }
404 }
405 
406 // File: @openzeppelin/contracts/token/ERC20/IERC20.sol
407 
408 
409 // OpenZeppelin Contracts (last updated v4.6.0) (token/ERC20/IERC20.sol)
410 
411 pragma solidity ^0.8.0;
412 
413 /**
414  * @dev Interface of the ERC20 standard as defined in the EIP.
415  */
416 interface IERC20 {
417     /**
418      * @dev Emitted when `value` tokens are moved from one account (`from`) to
419      * another (`to`).
420      *
421      * Note that `value` may be zero.
422      */
423     event Transfer(address indexed from, address indexed to, uint256 value);
424 
425     /**
426      * @dev Emitted when the allowance of a `spender` for an `owner` is set by
427      * a call to {approve}. `value` is the new allowance.
428      */
429     event Approval(address indexed owner, address indexed spender, uint256 value);
430 
431     /**
432      * @dev Returns the amount of tokens in existence.
433      */
434     function totalSupply() external view returns (uint256);
435 
436     /**
437      * @dev Returns the amount of tokens owned by `account`.
438      */
439     function balanceOf(address account) external view returns (uint256);
440 
441     /**
442      * @dev Moves `amount` tokens from the caller's account to `to`.
443      *
444      * Returns a boolean value indicating whether the operation succeeded.
445      *
446      * Emits a {Transfer} event.
447      */
448     function transfer(address to, uint256 amount) external returns (bool);
449 
450     /**
451      * @dev Returns the remaining number of tokens that `spender` will be
452      * allowed to spend on behalf of `owner` through {transferFrom}. This is
453      * zero by default.
454      *
455      * This value changes when {approve} or {transferFrom} are called.
456      */
457     function allowance(address owner, address spender) external view returns (uint256);
458 
459     /**
460      * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.
461      *
462      * Returns a boolean value indicating whether the operation succeeded.
463      *
464      * IMPORTANT: Beware that changing an allowance with this method brings the risk
465      * that someone may use both the old and the new allowance by unfortunate
466      * transaction ordering. One possible solution to mitigate this race
467      * condition is to first reduce the spender's allowance to 0 and set the
468      * desired value afterwards:
469      * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
470      *
471      * Emits an {Approval} event.
472      */
473     function approve(address spender, uint256 amount) external returns (bool);
474 
475     /**
476      * @dev Moves `amount` tokens from `from` to `to` using the
477      * allowance mechanism. `amount` is then deducted from the caller's
478      * allowance.
479      *
480      * Returns a boolean value indicating whether the operation succeeded.
481      *
482      * Emits a {Transfer} event.
483      */
484     function transferFrom(
485         address from,
486         address to,
487         uint256 amount
488     ) external returns (bool);
489 }
490 
491 // File: @openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol
492 
493 
494 // OpenZeppelin Contracts v4.4.1 (token/ERC20/extensions/IERC20Metadata.sol)
495 
496 pragma solidity ^0.8.0;
497 
498 
499 /**
500  * @dev Interface for the optional metadata functions from the ERC20 standard.
501  *
502  * _Available since v4.1._
503  */
504 interface IERC20Metadata is IERC20 {
505     /**
506      * @dev Returns the name of the token.
507      */
508     function name() external view returns (string memory);
509 
510     /**
511      * @dev Returns the symbol of the token.
512      */
513     function symbol() external view returns (string memory);
514 
515     /**
516      * @dev Returns the decimals places of the token.
517      */
518     function decimals() external view returns (uint8);
519 }
520 
521 // File: @openzeppelin/contracts/token/ERC20/ERC20.sol
522 
523 
524 // OpenZeppelin Contracts (last updated v4.8.0) (token/ERC20/ERC20.sol)
525 
526 pragma solidity ^0.8.0;
527 
528 
529 
530 
531 /**
532  * @dev Implementation of the {IERC20} interface.
533  *
534  * This implementation is agnostic to the way tokens are created. This means
535  * that a supply mechanism has to be added in a derived contract using {_mint}.
536  * For a generic mechanism see {ERC20PresetMinterPauser}.
537  *
538  * TIP: For a detailed writeup see our guide
539  * https://forum.openzeppelin.com/t/how-to-implement-erc20-supply-mechanisms/226[How
540  * to implement supply mechanisms].
541  *
542  * We have followed general OpenZeppelin Contracts guidelines: functions revert
543  * instead returning `false` on failure. This behavior is nonetheless
544  * conventional and does not conflict with the expectations of ERC20
545  * applications.
546  *
547  * Additionally, an {Approval} event is emitted on calls to {transferFrom}.
548  * This allows applications to reconstruct the allowance for all accounts just
549  * by listening to said events. Other implementations of the EIP may not emit
550  * these events, as it isn't required by the specification.
551  *
552  * Finally, the non-standard {decreaseAllowance} and {increaseAllowance}
553  * functions have been added to mitigate the well-known issues around setting
554  * allowances. See {IERC20-approve}.
555  */
556 contract ERC20 is Context, IERC20, IERC20Metadata {
557     mapping(address => uint256) private _balances;
558 
559     mapping(address => mapping(address => uint256)) private _allowances;
560 
561     uint256 private _totalSupply;
562 
563     string private _name;
564     string private _symbol;
565 
566     /**
567      * @dev Sets the values for {name} and {symbol}.
568      *
569      * The default value of {decimals} is 18. To select a different value for
570      * {decimals} you should overload it.
571      *
572      * All two of these values are immutable: they can only be set once during
573      * construction.
574      */
575     constructor(string memory name_, string memory symbol_) {
576         _name = name_;
577         _symbol = symbol_;
578     }
579 
580     /**
581      * @dev Returns the name of the token.
582      */
583     function name() public view virtual override returns (string memory) {
584         return _name;
585     }
586 
587     /**
588      * @dev Returns the symbol of the token, usually a shorter version of the
589      * name.
590      */
591     function symbol() public view virtual override returns (string memory) {
592         return _symbol;
593     }
594 
595     /**
596      * @dev Returns the number of decimals used to get its user representation.
597      * For example, if `decimals` equals `2`, a balance of `505` tokens should
598      * be displayed to a user as `5.05` (`505 / 10 ** 2`).
599      *
600      * Tokens usually opt for a value of 18, imitating the relationship between
601      * Ether and Wei. This is the value {ERC20} uses, unless this function is
602      * overridden;
603      *
604      * NOTE: This information is only used for _display_ purposes: it in
605      * no way affects any of the arithmetic of the contract, including
606      * {IERC20-balanceOf} and {IERC20-transfer}.
607      */
608     function decimals() public view virtual override returns (uint8) {
609         return 18;
610     }
611 
612     /**
613      * @dev See {IERC20-totalSupply}.
614      */
615     function totalSupply() public view virtual override returns (uint256) {
616         return _totalSupply;
617     }
618 
619     /**
620      * @dev See {IERC20-balanceOf}.
621      */
622     function balanceOf(address account) public view virtual override returns (uint256) {
623         return _balances[account];
624     }
625 
626     /**
627      * @dev See {IERC20-transfer}.
628      *
629      * Requirements:
630      *
631      * - `to` cannot be the zero address.
632      * - the caller must have a balance of at least `amount`.
633      */
634     function transfer(address to, uint256 amount) public virtual override returns (bool) {
635         address owner = _msgSender();
636         _transfer(owner, to, amount);
637         return true;
638     }
639 
640     /**
641      * @dev See {IERC20-allowance}.
642      */
643     function allowance(address owner, address spender) public view virtual override returns (uint256) {
644         return _allowances[owner][spender];
645     }
646 
647     /**
648      * @dev See {IERC20-approve}.
649      *
650      * NOTE: If `amount` is the maximum `uint256`, the allowance is not updated on
651      * `transferFrom`. This is semantically equivalent to an infinite approval.
652      *
653      * Requirements:
654      *
655      * - `spender` cannot be the zero address.
656      */
657     function approve(address spender, uint256 amount) public virtual override returns (bool) {
658         address owner = _msgSender();
659         _approve(owner, spender, amount);
660         return true;
661     }
662 
663     /**
664      * @dev See {IERC20-transferFrom}.
665      *
666      * Emits an {Approval} event indicating the updated allowance. This is not
667      * required by the EIP. See the note at the beginning of {ERC20}.
668      *
669      * NOTE: Does not update the allowance if the current allowance
670      * is the maximum `uint256`.
671      *
672      * Requirements:
673      *
674      * - `from` and `to` cannot be the zero address.
675      * - `from` must have a balance of at least `amount`.
676      * - the caller must have allowance for ``from``'s tokens of at least
677      * `amount`.
678      */
679     function transferFrom(
680         address from,
681         address to,
682         uint256 amount
683     ) public virtual override returns (bool) {
684         address spender = _msgSender();
685         _spendAllowance(from, spender, amount);
686         _transfer(from, to, amount);
687         return true;
688     }
689 
690     /**
691      * @dev Atomically increases the allowance granted to `spender` by the caller.
692      *
693      * This is an alternative to {approve} that can be used as a mitigation for
694      * problems described in {IERC20-approve}.
695      *
696      * Emits an {Approval} event indicating the updated allowance.
697      *
698      * Requirements:
699      *
700      * - `spender` cannot be the zero address.
701      */
702     function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {
703         address owner = _msgSender();
704         _approve(owner, spender, allowance(owner, spender) + addedValue);
705         return true;
706     }
707 
708     /**
709      * @dev Atomically decreases the allowance granted to `spender` by the caller.
710      *
711      * This is an alternative to {approve} that can be used as a mitigation for
712      * problems described in {IERC20-approve}.
713      *
714      * Emits an {Approval} event indicating the updated allowance.
715      *
716      * Requirements:
717      *
718      * - `spender` cannot be the zero address.
719      * - `spender` must have allowance for the caller of at least
720      * `subtractedValue`.
721      */
722     function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {
723         address owner = _msgSender();
724         uint256 currentAllowance = allowance(owner, spender);
725         require(currentAllowance >= subtractedValue, "ERC20: decreased allowance below zero");
726         unchecked {
727             _approve(owner, spender, currentAllowance - subtractedValue);
728         }
729 
730         return true;
731     }
732 
733     /**
734      * @dev Moves `amount` of tokens from `from` to `to`.
735      *
736      * This internal function is equivalent to {transfer}, and can be used to
737      * e.g. implement automatic token fees, slashing mechanisms, etc.
738      *
739      * Emits a {Transfer} event.
740      *
741      * Requirements:
742      *
743      * - `from` cannot be the zero address.
744      * - `to` cannot be the zero address.
745      * - `from` must have a balance of at least `amount`.
746      */
747     function _transfer(
748         address from,
749         address to,
750         uint256 amount
751     ) internal virtual {
752         require(from != address(0), "ERC20: transfer from the zero address");
753         require(to != address(0), "ERC20: transfer to the zero address");
754 
755         _beforeTokenTransfer(from, to, amount);
756 
757         uint256 fromBalance = _balances[from];
758         require(fromBalance >= amount, "ERC20: transfer amount exceeds balance");
759         unchecked {
760             _balances[from] = fromBalance - amount;
761             // Overflow not possible: the sum of all balances is capped by totalSupply, and the sum is preserved by
762             // decrementing then incrementing.
763             _balances[to] += amount;
764         }
765 
766         emit Transfer(from, to, amount);
767 
768         _afterTokenTransfer(from, to, amount);
769     }
770 
771     /** @dev Creates `amount` tokens and assigns them to `account`, increasing
772      * the total supply.
773      *
774      * Emits a {Transfer} event with `from` set to the zero address.
775      *
776      * Requirements:
777      *
778      * - `account` cannot be the zero address.
779      */
780     function _mint(address account, uint256 amount) internal virtual {
781         require(account != address(0), "ERC20: mint to the zero address");
782 
783         _beforeTokenTransfer(address(0), account, amount);
784 
785         _totalSupply += amount;
786         unchecked {
787             // Overflow not possible: balance + amount is at most totalSupply + amount, which is checked above.
788             _balances[account] += amount;
789         }
790         emit Transfer(address(0), account, amount);
791 
792         _afterTokenTransfer(address(0), account, amount);
793     }
794 
795     /**
796      * @dev Destroys `amount` tokens from `account`, reducing the
797      * total supply.
798      *
799      * Emits a {Transfer} event with `to` set to the zero address.
800      *
801      * Requirements:
802      *
803      * - `account` cannot be the zero address.
804      * - `account` must have at least `amount` tokens.
805      */
806     function _burn(address account, uint256 amount) internal virtual {
807         require(account != address(0), "ERC20: burn from the zero address");
808 
809         _beforeTokenTransfer(account, address(0), amount);
810 
811         uint256 accountBalance = _balances[account];
812         require(accountBalance >= amount, "ERC20: burn amount exceeds balance");
813         unchecked {
814             _balances[account] = accountBalance - amount;
815             // Overflow not possible: amount <= accountBalance <= totalSupply.
816             _totalSupply -= amount;
817         }
818 
819         emit Transfer(account, address(0), amount);
820 
821         _afterTokenTransfer(account, address(0), amount);
822     }
823 
824     /**
825      * @dev Sets `amount` as the allowance of `spender` over the `owner` s tokens.
826      *
827      * This internal function is equivalent to `approve`, and can be used to
828      * e.g. set automatic allowances for certain subsystems, etc.
829      *
830      * Emits an {Approval} event.
831      *
832      * Requirements:
833      *
834      * - `owner` cannot be the zero address.
835      * - `spender` cannot be the zero address.
836      */
837     function _approve(
838         address owner,
839         address spender,
840         uint256 amount
841     ) internal virtual {
842         require(owner != address(0), "ERC20: approve from the zero address");
843         require(spender != address(0), "ERC20: approve to the zero address");
844 
845         _allowances[owner][spender] = amount;
846         emit Approval(owner, spender, amount);
847     }
848 
849     /**
850      * @dev Updates `owner` s allowance for `spender` based on spent `amount`.
851      *
852      * Does not update the allowance amount in case of infinite allowance.
853      * Revert if not enough allowance is available.
854      *
855      * Might emit an {Approval} event.
856      */
857     function _spendAllowance(
858         address owner,
859         address spender,
860         uint256 amount
861     ) internal virtual {
862         uint256 currentAllowance = allowance(owner, spender);
863         if (currentAllowance != type(uint256).max) {
864             require(currentAllowance >= amount, "ERC20: insufficient allowance");
865             unchecked {
866                 _approve(owner, spender, currentAllowance - amount);
867             }
868         }
869     }
870 
871     /**
872      * @dev Hook that is called before any transfer of tokens. This includes
873      * minting and burning.
874      *
875      * Calling conditions:
876      *
877      * - when `from` and `to` are both non-zero, `amount` of ``from``'s tokens
878      * will be transferred to `to`.
879      * - when `from` is zero, `amount` tokens will be minted for `to`.
880      * - when `to` is zero, `amount` of ``from``'s tokens will be burned.
881      * - `from` and `to` are never both zero.
882      *
883      * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].
884      */
885     function _beforeTokenTransfer(
886         address from,
887         address to,
888         uint256 amount
889     ) internal virtual {}
890 
891     /**
892      * @dev Hook that is called after any transfer of tokens. This includes
893      * minting and burning.
894      *
895      * Calling conditions:
896      *
897      * - when `from` and `to` are both non-zero, `amount` of ``from``'s tokens
898      * has been transferred to `to`.
899      * - when `from` is zero, `amount` tokens have been minted for `to`.
900      * - when `to` is zero, `amount` of ``from``'s tokens have been burned.
901      * - `from` and `to` are never both zero.
902      *
903      * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].
904      */
905     function _afterTokenTransfer(
906         address from,
907         address to,
908         uint256 amount
909     ) internal virtual {}
910 }
911 
912 // File: @openzeppelin/contracts/token/ERC20/extensions/ERC20Burnable.sol
913 
914 
915 // OpenZeppelin Contracts (last updated v4.5.0) (token/ERC20/extensions/ERC20Burnable.sol)
916 
917 pragma solidity ^0.8.0;
918 
919 
920 
921 /**
922  * @dev Extension of {ERC20} that allows token holders to destroy both their own
923  * tokens and those that they have an allowance for, in a way that can be
924  * recognized off-chain (via event analysis).
925  */
926 abstract contract ERC20Burnable is Context, ERC20 {
927     /**
928      * @dev Destroys `amount` tokens from the caller.
929      *
930      * See {ERC20-_burn}.
931      */
932     function burn(uint256 amount) public virtual {
933         _burn(_msgSender(), amount);
934     }
935 
936     /**
937      * @dev Destroys `amount` tokens from `account`, deducting from the caller's
938      * allowance.
939      *
940      * See {ERC20-_burn} and {ERC20-allowance}.
941      *
942      * Requirements:
943      *
944      * - the caller must have allowance for ``accounts``'s tokens of at least
945      * `amount`.
946      */
947     function burnFrom(address account, uint256 amount) public virtual {
948         _spendAllowance(account, _msgSender(), amount);
949         _burn(account, amount);
950     }
951 }
952 
953 
954 //https://www.toonversestudios.com/
955 
956 // File: https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/cryptography/MerkleProof.sol
957 
958 // OpenZeppelin Contracts (last updated v4.7.0) (utils/cryptography/MerkleProof.sol)
959 
960 pragma solidity ^0.8.0;
961 
962 /**
963  * @dev These functions deal with verification of Merkle Tree proofs.
964  *
965  * The proofs can be generated using the JavaScript library
966  * https://github.com/miguelmota/merkletreejs[merkletreejs].
967  * Note: the hashing algorithm should be keccak256 and pair sorting should be enabled.
968  *
969  * See `test/utils/cryptography/MerkleProof.test.js` for some examples.
970  *
971  * WARNING: You should avoid using leaf values that are 64 bytes long prior to
972  * hashing, or use a hash function other than keccak256 for hashing leaves.
973  * This is because the concatenation of a sorted pair of internal nodes in
974  * the merkle tree could be reinterpreted as a leaf value.
975  */
976 library MerkleProof {
977     /**
978      * @dev Returns true if a `leaf` can be proved to be a part of a Merkle tree
979      * defined by `root`. For this, a `proof` must be provided, containing
980      * sibling hashes on the branch from the leaf to the root of the tree. Each
981      * pair of leaves and each pair of pre-images are assumed to be sorted.
982      */
983     function verify(
984         bytes32[] memory proof,
985         bytes32 root,
986         bytes32 leaf
987     ) internal pure returns (bool) {
988         return processProof(proof, leaf) == root;
989     }
990 
991     /**
992      * @dev Calldata version of {verify}
993      *
994      * _Available since v4.7._
995      */
996     function verifyCalldata(
997         bytes32[] calldata proof,
998         bytes32 root,
999         bytes32 leaf
1000     ) internal pure returns (bool) {
1001         return processProofCalldata(proof, leaf) == root;
1002     }
1003 
1004     /**
1005      * @dev Returns the rebuilt hash obtained by traversing a Merkle tree up
1006      * from `leaf` using `proof`. A `proof` is valid if and only if the rebuilt
1007      * hash matches the root of the tree. When processing the proof, the pairs
1008      * of leafs & pre-images are assumed to be sorted.
1009      *
1010      * _Available since v4.4._
1011      */
1012     function processProof(bytes32[] memory proof, bytes32 leaf)
1013         internal
1014         pure
1015         returns (bytes32)
1016     {
1017         bytes32 computedHash = leaf;
1018         for (uint256 i = 0; i < proof.length; i++) {
1019             computedHash = _hashPair(computedHash, proof[i]);
1020         }
1021         return computedHash;
1022     }
1023 
1024     /**
1025      * @dev Calldata version of {processProof}
1026      *
1027      * _Available since v4.7._
1028      */
1029     function processProofCalldata(bytes32[] calldata proof, bytes32 leaf)
1030         internal
1031         pure
1032         returns (bytes32)
1033     {
1034         bytes32 computedHash = leaf;
1035         for (uint256 i = 0; i < proof.length; i++) {
1036             computedHash = _hashPair(computedHash, proof[i]);
1037         }
1038         return computedHash;
1039     }
1040 
1041     /**
1042      * @dev Returns true if the `leaves` can be simultaneously proven to be a part of a merkle tree defined by
1043      * `root`, according to `proof` and `proofFlags` as described in {processMultiProof}.
1044      *
1045      * CAUTION: Not all merkle trees admit multiproofs. See {processMultiProof} for details.
1046      *
1047      * _Available since v4.7._
1048      */
1049     function multiProofVerify(
1050         bytes32[] memory proof,
1051         bool[] memory proofFlags,
1052         bytes32 root,
1053         bytes32[] memory leaves
1054     ) internal pure returns (bool) {
1055         return processMultiProof(proof, proofFlags, leaves) == root;
1056     }
1057 
1058     /**
1059      * @dev Calldata version of {multiProofVerify}
1060      *
1061      * CAUTION: Not all merkle trees admit multiproofs. See {processMultiProof} for details.
1062      *
1063      * _Available since v4.7._
1064      */
1065     function multiProofVerifyCalldata(
1066         bytes32[] calldata proof,
1067         bool[] calldata proofFlags,
1068         bytes32 root,
1069         bytes32[] memory leaves
1070     ) internal pure returns (bool) {
1071         return processMultiProofCalldata(proof, proofFlags, leaves) == root;
1072     }
1073 
1074     /**
1075      * @dev Returns the root of a tree reconstructed from `leaves` and sibling nodes in `proof`. The reconstruction
1076      * proceeds by incrementally reconstructing all inner nodes by combining a leaf/inner node with either another
1077      * leaf/inner node or a proof sibling node, depending on whether each `proofFlags` item is true or false
1078      * respectively.
1079      *
1080      * CAUTION: Not all merkle trees admit multiproofs. To use multiproofs, it is sufficient to ensure that: 1) the tree
1081      * is complete (but not necessarily perfect), 2) the leaves to be proven are in the opposite order they are in the
1082      * tree (i.e., as seen from right to left starting at the deepest layer and continuing at the next layer).
1083      *
1084      * _Available since v4.7._
1085      */
1086     function processMultiProof(
1087         bytes32[] memory proof,
1088         bool[] memory proofFlags,
1089         bytes32[] memory leaves
1090     ) internal pure returns (bytes32 merkleRoot) {
1091         // This function rebuild the root hash by traversing the tree up from the leaves. The root is rebuilt by
1092         // consuming and producing values on a queue. The queue starts with the `leaves` array, then goes onto the
1093         // `hashes` array. At the end of the process, the last hash in the `hashes` array should contain the root of
1094         // the merkle tree.
1095         uint256 leavesLen = leaves.length;
1096         uint256 totalHashes = proofFlags.length;
1097 
1098         // Check proof validity.
1099         require(
1100             leavesLen + proof.length - 1 == totalHashes,
1101             "MerkleProof: invalid multiproof"
1102         );
1103 
1104         // The xxxPos values are "pointers" to the next value to consume in each array. All accesses are done using
1105         // `xxx[xxxPos++]`, which return the current value and increment the pointer, thus mimicking a queue's "pop".
1106         bytes32[] memory hashes = new bytes32[](totalHashes);
1107         uint256 leafPos = 0;
1108         uint256 hashPos = 0;
1109         uint256 proofPos = 0;
1110         // At each step, we compute the next hash using two values:
1111         // - a value from the "main queue". If not all leaves have been consumed, we get the next leaf, otherwise we
1112         //   get the next hash.
1113         // - depending on the flag, either another value for the "main queue" (merging branches) or an element from the
1114         //   `proof` array.
1115         for (uint256 i = 0; i < totalHashes; i++) {
1116             bytes32 a = leafPos < leavesLen
1117                 ? leaves[leafPos++]
1118                 : hashes[hashPos++];
1119             bytes32 b = proofFlags[i]
1120                 ? leafPos < leavesLen ? leaves[leafPos++] : hashes[hashPos++]
1121                 : proof[proofPos++];
1122             hashes[i] = _hashPair(a, b);
1123         }
1124 
1125         if (totalHashes > 0) {
1126             return hashes[totalHashes - 1];
1127         } else if (leavesLen > 0) {
1128             return leaves[0];
1129         } else {
1130             return proof[0];
1131         }
1132     }
1133 
1134     /**
1135      * @dev Calldata version of {processMultiProof}.
1136      *
1137      * CAUTION: Not all merkle trees admit multiproofs. See {processMultiProof} for details.
1138      *
1139      * _Available since v4.7._
1140      */
1141     function processMultiProofCalldata(
1142         bytes32[] calldata proof,
1143         bool[] calldata proofFlags,
1144         bytes32[] memory leaves
1145     ) internal pure returns (bytes32 merkleRoot) {
1146         // This function rebuild the root hash by traversing the tree up from the leaves. The root is rebuilt by
1147         // consuming and producing values on a queue. The queue starts with the `leaves` array, then goes onto the
1148         // `hashes` array. At the end of the process, the last hash in the `hashes` array should contain the root of
1149         // the merkle tree.
1150         uint256 leavesLen = leaves.length;
1151         uint256 totalHashes = proofFlags.length;
1152 
1153         // Check proof validity.
1154         require(
1155             leavesLen + proof.length - 1 == totalHashes,
1156             "MerkleProof: invalid multiproof"
1157         );
1158 
1159         // The xxxPos values are "pointers" to the next value to consume in each array. All accesses are done using
1160         // `xxx[xxxPos++]`, which return the current value and increment the pointer, thus mimicking a queue's "pop".
1161         bytes32[] memory hashes = new bytes32[](totalHashes);
1162         uint256 leafPos = 0;
1163         uint256 hashPos = 0;
1164         uint256 proofPos = 0;
1165         // At each step, we compute the next hash using two values:
1166         // - a value from the "main queue". If not all leaves have been consumed, we get the next leaf, otherwise we
1167         //   get the next hash.
1168         // - depending on the flag, either another value for the "main queue" (merging branches) or an element from the
1169         //   `proof` array.
1170         for (uint256 i = 0; i < totalHashes; i++) {
1171             bytes32 a = leafPos < leavesLen
1172                 ? leaves[leafPos++]
1173                 : hashes[hashPos++];
1174             bytes32 b = proofFlags[i]
1175                 ? leafPos < leavesLen ? leaves[leafPos++] : hashes[hashPos++]
1176                 : proof[proofPos++];
1177             hashes[i] = _hashPair(a, b);
1178         }
1179 
1180         if (totalHashes > 0) {
1181             return hashes[totalHashes - 1];
1182         } else if (leavesLen > 0) {
1183             return leaves[0];
1184         } else {
1185             return proof[0];
1186         }
1187     }
1188 
1189     function _hashPair(bytes32 a, bytes32 b) private pure returns (bytes32) {
1190         return a < b ? _efficientHash(a, b) : _efficientHash(b, a);
1191     }
1192 
1193     function _efficientHash(bytes32 a, bytes32 b)
1194         private
1195         pure
1196         returns (bytes32 value)
1197     {
1198         /// @solidity memory-safe-assembly
1199         assembly {
1200             mstore(0x00, a)
1201             mstore(0x20, b)
1202             value := keccak256(0x00, 0x40)
1203         }
1204     }
1205 }
1206 
1207 // File: @openzeppelin/contracts/utils/Strings.sol
1208 
1209 // OpenZeppelin Contracts (last updated v4.7.0) (utils/Strings.sol)
1210 
1211 pragma solidity ^0.8.0;
1212 
1213 /**
1214  * @dev String operations.
1215  */
1216 library Strings {
1217     bytes16 private constant _HEX_SYMBOLS = "0123456789abcdef";
1218     uint8 private constant _ADDRESS_LENGTH = 20;
1219 
1220     /**
1221      * @dev Converts a `uint256` to its ASCII `string` decimal representation.
1222      */
1223     function toString(uint256 value) internal pure returns (string memory) {
1224         // Inspired by OraclizeAPI's implementation - MIT licence
1225         // https://github.com/oraclize/ethereum-api/blob/b42146b063c7d6ee1358846c198246239e9360e8/oraclizeAPI_0.4.25.sol
1226 
1227         if (value == 0) {
1228             return "0";
1229         }
1230         uint256 temp = value;
1231         uint256 digits;
1232         while (temp != 0) {
1233             digits++;
1234             temp /= 10;
1235         }
1236         bytes memory buffer = new bytes(digits);
1237         while (value != 0) {
1238             digits -= 1;
1239             buffer[digits] = bytes1(uint8(48 + uint256(value % 10)));
1240             value /= 10;
1241         }
1242         return string(buffer);
1243     }
1244 
1245     /**
1246      * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation.
1247      */
1248     function toHexString(uint256 value) internal pure returns (string memory) {
1249         if (value == 0) {
1250             return "0x00";
1251         }
1252         uint256 temp = value;
1253         uint256 length = 0;
1254         while (temp != 0) {
1255             length++;
1256             temp >>= 8;
1257         }
1258         return toHexString(value, length);
1259     }
1260 
1261     /**
1262      * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length.
1263      */
1264     function toHexString(uint256 value, uint256 length)
1265         internal
1266         pure
1267         returns (string memory)
1268     {
1269         bytes memory buffer = new bytes(2 * length + 2);
1270         buffer[0] = "0";
1271         buffer[1] = "x";
1272         for (uint256 i = 2 * length + 1; i > 1; --i) {
1273             buffer[i] = _HEX_SYMBOLS[value & 0xf];
1274             value >>= 4;
1275         }
1276         require(value == 0, "Strings: hex length insufficient");
1277         return string(buffer);
1278     }
1279 
1280     /**
1281      * @dev Converts an `address` with fixed length of 20 bytes to its not checksummed ASCII `string` hexadecimal representation.
1282      */
1283     function toHexString(address addr) internal pure returns (string memory) {
1284         return toHexString(uint256(uint160(addr)), _ADDRESS_LENGTH);
1285     }
1286 }
1287 
1288 // File: @openzeppelin/contracts/utils/Context.sol
1289 
1290 // OpenZeppelin Contracts v4.4.1 (utils/Context.sol)
1291 
1292 pragma solidity ^0.8.0;
1293 
1294 /**
1295  * @dev Provides information about the current execution context, including the
1296  * sender of the transaction and its data. While these are generally available
1297  * via msg.sender and msg.data, they should not be accessed in such a direct
1298  * manner, since when dealing with meta-transactions the account sending and
1299  * paying for execution may not be the actual sender (as far as an application
1300  * is concerned).
1301  *
1302  * This contract is only required for intermediate, library-like contracts.
1303  */
1304 // abstract contract Context {
1305 //     function _msgSender() internal view virtual returns (address) {
1306 //         return msg.sender;
1307 //     }
1308 
1309 //     function _msgData() internal view virtual returns (bytes calldata) {
1310 //         return msg.data;
1311 //     }
1312 // }
1313 
1314 // File: @openzeppelin/contracts/access/Ownable.sol
1315 
1316 // OpenZeppelin Contracts (last updated v4.7.0) (access/Ownable.sol)
1317 
1318 pragma solidity ^0.8.0;
1319 
1320 /**
1321  * @dev Contract module which provides a basic access control mechanism, where
1322  * there is an account (an owner) that can be granted exclusive access to
1323  * specific functions.
1324  *
1325  * By default, the owner account will be the one that deploys the contract. This
1326  * can later be changed with {transferOwnership}.
1327  *
1328  * This module is used through inheritance. It will make available the modifier
1329  * `onlyOwner`, which can be applied to your functions to restrict their use to
1330  * the owner.
1331  */
1332 abstract contract Ownable is Context {
1333     address private _owner;
1334 
1335     event OwnershipTransferred(
1336         address indexed previousOwner,
1337         address indexed newOwner
1338     );
1339 
1340     /**
1341      * @dev Initializes the contract setting the deployer as the initial owner.
1342      */
1343     constructor() {
1344         _transferOwnership(_msgSender());
1345     }
1346 
1347     /**
1348      * @dev Throws if called by any account other than the owner.
1349      */
1350     modifier onlyOwner() {
1351         _checkOwner();
1352         _;
1353     }
1354 
1355     /**
1356      * @dev Returns the address of the current owner.
1357      */
1358     function owner() public view virtual returns (address) {
1359         return _owner;
1360     }
1361 
1362     /**
1363      * @dev Throws if the sender is not the owner.
1364      */
1365     function _checkOwner() internal view virtual {
1366         require(owner() == _msgSender(), "Ownable: caller is not the owner");
1367     }
1368 
1369     /**
1370      * @dev Leaves the contract without owner. It will not be possible to call
1371      * `onlyOwner` functions anymore. Can only be called by the current owner.
1372      *
1373      * NOTE: Renouncing ownership will leave the contract without an owner,
1374      * thereby removing any functionality that is only available to the owner.
1375      */
1376     function renounceOwnership() public virtual onlyOwner {
1377         _transferOwnership(address(0));
1378     }
1379 
1380     /**
1381      * @dev Transfers ownership of the contract to a new account (`newOwner`).
1382      * Can only be called by the current owner.
1383      */
1384     function transferOwnership(address newOwner) public virtual onlyOwner {
1385         require(
1386             newOwner != address(0),
1387             "Ownable: new owner is the zero address"
1388         );
1389         _transferOwnership(newOwner);
1390     }
1391 
1392     /**
1393      * @dev Transfers ownership of the contract to a new account (`newOwner`).
1394      * Internal function without access restriction.
1395      */
1396     function _transferOwnership(address newOwner) internal virtual {
1397         address oldOwner = _owner;
1398         _owner = newOwner;
1399         emit OwnershipTransferred(oldOwner, newOwner);
1400     }
1401 }
1402 
1403 // File: @openzeppelin/contracts/utils/Address.sol
1404 
1405 // OpenZeppelin Contracts (last updated v4.7.0) (utils/Address.sol)
1406 
1407 pragma solidity ^0.8.1;
1408 
1409 /**
1410  * @dev Collection of functions related to the address type
1411  */
1412 library Address {
1413     /**
1414      * @dev Returns true if `account` is a contract.
1415      *
1416      * [IMPORTANT]
1417      * ====
1418      * It is unsafe to assume that an address for which this function returns
1419      * false is an externally-owned account (EOA) and not a contract.
1420      *
1421      * Among others, `isContract` will return false for the following
1422      * types of addresses:
1423      *
1424      *  - an externally-owned account
1425      *  - a contract in construction
1426      *  - an address where a contract will be created
1427      *  - an address where a contract lived, but was destroyed
1428      * ====
1429      *
1430      * [IMPORTANT]
1431      * ====
1432      * You shouldn't rely on `isContract` to protect against flash loan attacks!
1433      *
1434      * Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets
1435      * like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract
1436      * constructor.
1437      * ====
1438      */
1439     function isContract(address account) internal view returns (bool) {
1440         // This method relies on extcodesize/address.code.length, which returns 0
1441         // for contracts in construction, since the code is only stored at the end
1442         // of the constructor execution.
1443 
1444         return account.code.length > 0;
1445     }
1446 
1447     /**
1448      * @dev Replacement for Solidity's `transfer`: sends `amount` wei to
1449      * `recipient`, forwarding all available gas and reverting on errors.
1450      *
1451      * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost
1452      * of certain opcodes, possibly making contracts go over the 2300 gas limit
1453      * imposed by `transfer`, making them unable to receive funds via
1454      * `transfer`. {sendValue} removes this limitation.
1455      *
1456      * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].
1457      *
1458      * IMPORTANT: because control is transferred to `recipient`, care must be
1459      * taken to not create reentrancy vulnerabilities. Consider using
1460      * {ReentrancyGuard} or the
1461      * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].
1462      */
1463     function sendValue(address payable recipient, uint256 amount) internal {
1464         require(
1465             address(this).balance >= amount,
1466             "Address: insufficient balance"
1467         );
1468 
1469         (bool success, ) = recipient.call{value: amount}("");
1470         require(
1471             success,
1472             "Address: unable to send value, recipient may have reverted"
1473         );
1474     }
1475 
1476     /**
1477      * @dev Performs a Solidity function call using a low level `call`. A
1478      * plain `call` is an unsafe replacement for a function call: use this
1479      * function instead.
1480      *
1481      * If `target` reverts with a revert reason, it is bubbled up by this
1482      * function (like regular Solidity function calls).
1483      *
1484      * Returns the raw returned data. To convert to the expected return value,
1485      * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].
1486      *
1487      * Requirements:
1488      *
1489      * - `target` must be a contract.
1490      * - calling `target` with `data` must not revert.
1491      *
1492      * _Available since v3.1._
1493      */
1494     function functionCall(address target, bytes memory data)
1495         internal
1496         returns (bytes memory)
1497     {
1498         return functionCall(target, data, "Address: low-level call failed");
1499     }
1500 
1501     /**
1502      * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with
1503      * `errorMessage` as a fallback revert reason when `target` reverts.
1504      *
1505      * _Available since v3.1._
1506      */
1507     function functionCall(
1508         address target,
1509         bytes memory data,
1510         string memory errorMessage
1511     ) internal returns (bytes memory) {
1512         return functionCallWithValue(target, data, 0, errorMessage);
1513     }
1514 
1515     /**
1516      * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
1517      * but also transferring `value` wei to `target`.
1518      *
1519      * Requirements:
1520      *
1521      * - the calling contract must have an ETH balance of at least `value`.
1522      * - the called Solidity function must be `payable`.
1523      *
1524      * _Available since v3.1._
1525      */
1526     function functionCallWithValue(
1527         address target,
1528         bytes memory data,
1529         uint256 value
1530     ) internal returns (bytes memory) {
1531         return
1532             functionCallWithValue(
1533                 target,
1534                 data,
1535                 value,
1536                 "Address: low-level call with value failed"
1537             );
1538     }
1539 
1540     /**
1541      * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but
1542      * with `errorMessage` as a fallback revert reason when `target` reverts.
1543      *
1544      * _Available since v3.1._
1545      */
1546     function functionCallWithValue(
1547         address target,
1548         bytes memory data,
1549         uint256 value,
1550         string memory errorMessage
1551     ) internal returns (bytes memory) {
1552         require(
1553             address(this).balance >= value,
1554             "Address: insufficient balance for call"
1555         );
1556         require(isContract(target), "Address: call to non-contract");
1557 
1558         (bool success, bytes memory returndata) = target.call{value: value}(
1559             data
1560         );
1561         return verifyCallResult(success, returndata, errorMessage);
1562     }
1563 
1564     /**
1565      * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
1566      * but performing a static call.
1567      *
1568      * _Available since v3.3._
1569      */
1570     function functionStaticCall(address target, bytes memory data)
1571         internal
1572         view
1573         returns (bytes memory)
1574     {
1575         return
1576             functionStaticCall(
1577                 target,
1578                 data,
1579                 "Address: low-level static call failed"
1580             );
1581     }
1582 
1583     /**
1584      * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
1585      * but performing a static call.
1586      *
1587      * _Available since v3.3._
1588      */
1589     function functionStaticCall(
1590         address target,
1591         bytes memory data,
1592         string memory errorMessage
1593     ) internal view returns (bytes memory) {
1594         require(isContract(target), "Address: static call to non-contract");
1595 
1596         (bool success, bytes memory returndata) = target.staticcall(data);
1597         return verifyCallResult(success, returndata, errorMessage);
1598     }
1599 
1600     /**
1601      * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],
1602      * but performing a delegate call.
1603      *
1604      * _Available since v3.4._
1605      */
1606     function functionDelegateCall(address target, bytes memory data)
1607         internal
1608         returns (bytes memory)
1609     {
1610         return
1611             functionDelegateCall(
1612                 target,
1613                 data,
1614                 "Address: low-level delegate call failed"
1615             );
1616     }
1617 
1618     /**
1619      * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],
1620      * but performing a delegate call.
1621      *
1622      * _Available since v3.4._
1623      */
1624     function functionDelegateCall(
1625         address target,
1626         bytes memory data,
1627         string memory errorMessage
1628     ) internal returns (bytes memory) {
1629         require(isContract(target), "Address: delegate call to non-contract");
1630 
1631         (bool success, bytes memory returndata) = target.delegatecall(data);
1632         return verifyCallResult(success, returndata, errorMessage);
1633     }
1634 
1635     /**
1636      * @dev Tool to verifies that a low level call was successful, and revert if it wasn't, either by bubbling the
1637      * revert reason using the provided one.
1638      *
1639      * _Available since v4.3._
1640      */
1641     function verifyCallResult(
1642         bool success,
1643         bytes memory returndata,
1644         string memory errorMessage
1645     ) internal pure returns (bytes memory) {
1646         if (success) {
1647             return returndata;
1648         } else {
1649             // Look for revert reason and bubble it up if present
1650             if (returndata.length > 0) {
1651                 // The easiest way to bubble the revert reason is using memory via assembly
1652                 /// @solidity memory-safe-assembly
1653                 assembly {
1654                     let returndata_size := mload(returndata)
1655                     revert(add(32, returndata), returndata_size)
1656                 }
1657             } else {
1658                 revert(errorMessage);
1659             }
1660         }
1661     }
1662 }
1663 
1664 // File: @openzeppelin/contracts/token/ERC721/IERC721Receiver.sol
1665 
1666 // OpenZeppelin Contracts (last updated v4.6.0) (token/ERC721/IERC721Receiver.sol)
1667 
1668 pragma solidity ^0.8.0;
1669 
1670 /**
1671  * @title ERC721 token receiver interface
1672  * @dev Interface for any contract that wants to support safeTransfers
1673  * from ERC721 asset contracts.
1674  */
1675 interface IERC721Receiver {
1676     /**
1677      * @dev Whenever an {IERC721} `tokenId` token is transferred to this contract via {IERC721-safeTransferFrom}
1678      * by `operator` from `from`, this function is called.
1679      *
1680      * It must return its Solidity selector to confirm the token transfer.
1681      * If any other value is returned or the interface is not implemented by the recipient, the transfer will be reverted.
1682      *
1683      * The selector can be obtained in Solidity with `IERC721Receiver.onERC721Received.selector`.
1684      */
1685     function onERC721Received(
1686         address operator,
1687         address from,
1688         uint256 tokenId,
1689         bytes calldata data
1690     ) external returns (bytes4);
1691 }
1692 
1693 // File: @openzeppelin/contracts/utils/introspection/IERC165.sol
1694 
1695 // OpenZeppelin Contracts v4.4.1 (utils/introspection/IERC165.sol)
1696 
1697 pragma solidity ^0.8.0;
1698 
1699 /**
1700  * @dev Interface of the ERC165 standard, as defined in the
1701  * https://eips.ethereum.org/EIPS/eip-165[EIP].
1702  *
1703  * Implementers can declare support of contract interfaces, which can then be
1704  * queried by others ({ERC165Checker}).
1705  *
1706  * For an implementation, see {ERC165}.
1707  */
1708 interface IERC165 {
1709     /**
1710      * @dev Returns true if this contract implements the interface defined by
1711      * `interfaceId`. See the corresponding
1712      * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]
1713      * to learn more about how these ids are created.
1714      *
1715      * This function call must use less than 30 000 gas.
1716      */
1717     function supportsInterface(bytes4 interfaceId) external view returns (bool);
1718 }
1719 
1720 // File: @openzeppelin/contracts/utils/introspection/ERC165.sol
1721 
1722 // OpenZeppelin Contracts v4.4.1 (utils/introspection/ERC165.sol)
1723 
1724 pragma solidity ^0.8.0;
1725 
1726 /**
1727  * @dev Implementation of the {IERC165} interface.
1728  *
1729  * Contracts that want to implement ERC165 should inherit from this contract and override {supportsInterface} to check
1730  * for the additional interface id that will be supported. For example:
1731  *
1732  * ```solidity
1733  * function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {
1734  *     return interfaceId == type(MyInterface).interfaceId || super.supportsInterface(interfaceId);
1735  * }
1736  * ```
1737  *
1738  * Alternatively, {ERC165Storage} provides an easier to use but more expensive implementation.
1739  */
1740 abstract contract ERC165 is IERC165 {
1741     /**
1742      * @dev See {IERC165-supportsInterface}.
1743      */
1744     function supportsInterface(bytes4 interfaceId)
1745         public
1746         view
1747         virtual
1748         override
1749         returns (bool)
1750     {
1751         return interfaceId == type(IERC165).interfaceId;
1752     }
1753 }
1754 
1755 // File: @openzeppelin/contracts/token/ERC721/IERC721.sol
1756 
1757 // OpenZeppelin Contracts (last updated v4.7.0) (token/ERC721/IERC721.sol)
1758 
1759 pragma solidity ^0.8.0;
1760 
1761 /**
1762  * @dev Required interface of an ERC721 compliant contract.
1763  */
1764 interface IERC721 is IERC165 {
1765     /**
1766      * @dev Emitted when `tokenId` token is transferred from `from` to `to`.
1767      */
1768     event Transfer(
1769         address indexed from,
1770         address indexed to,
1771         uint256 indexed tokenId
1772     );
1773 
1774     /**
1775      * @dev Emitted when `owner` enables `approved` to manage the `tokenId` token.
1776      */
1777     event Approval(
1778         address indexed owner,
1779         address indexed approved,
1780         uint256 indexed tokenId
1781     );
1782 
1783     /**
1784      * @dev Emitted when `owner` enables or disables (`approved`) `operator` to manage all of its assets.
1785      */
1786     event ApprovalForAll(
1787         address indexed owner,
1788         address indexed operator,
1789         bool approved
1790     );
1791 
1792     /**
1793      * @dev Returns the number of tokens in ``owner``'s account.
1794      */
1795     function balanceOf(address owner) external view returns (uint256 balance);
1796 
1797     /**
1798      * @dev Returns the owner of the `tokenId` token.
1799      *
1800      * Requirements:
1801      *
1802      * - `tokenId` must exist.
1803      */
1804     function ownerOf(uint256 tokenId) external view returns (address owner);
1805 
1806     /**
1807      * @dev Safely transfers `tokenId` token from `from` to `to`.
1808      *
1809      * Requirements:
1810      *
1811      * - `from` cannot be the zero address.
1812      * - `to` cannot be the zero address.
1813      * - `tokenId` token must exist and be owned by `from`.
1814      * - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}.
1815      * - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer.
1816      *
1817      * Emits a {Transfer} event.
1818      */
1819     function safeTransferFrom(
1820         address from,
1821         address to,
1822         uint256 tokenId,
1823         bytes calldata data
1824     ) external;
1825 
1826     /**
1827      * @dev Safely transfers `tokenId` token from `from` to `to`, checking first that contract recipients
1828      * are aware of the ERC721 protocol to prevent tokens from being forever locked.
1829      *
1830      * Requirements:
1831      *
1832      * - `from` cannot be the zero address.
1833      * - `to` cannot be the zero address.
1834      * - `tokenId` token must exist and be owned by `from`.
1835      * - If the caller is not `from`, it must have been allowed to move this token by either {approve} or {setApprovalForAll}.
1836      * - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer.
1837      *
1838      * Emits a {Transfer} event.
1839      */
1840     function safeTransferFrom(
1841         address from,
1842         address to,
1843         uint256 tokenId
1844     ) external;
1845 
1846     /**
1847      * @dev Transfers `tokenId` token from `from` to `to`.
1848      *
1849      * WARNING: Usage of this method is discouraged, use {safeTransferFrom} whenever possible.
1850      *
1851      * Requirements:
1852      *
1853      * - `from` cannot be the zero address.
1854      * - `to` cannot be the zero address.
1855      * - `tokenId` token must be owned by `from`.
1856      * - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}.
1857      *
1858      * Emits a {Transfer} event.
1859      */
1860     function transferFrom(
1861         address from,
1862         address to,
1863         uint256 tokenId
1864     ) external;
1865 
1866     /**
1867      * @dev Gives permission to `to` to transfer `tokenId` token to another account.
1868      * The approval is cleared when the token is transferred.
1869      *
1870      * Only a single account can be approved at a time, so approving the zero address clears previous approvals.
1871      *
1872      * Requirements:
1873      *
1874      * - The caller must own the token or be an approved operator.
1875      * - `tokenId` must exist.
1876      *
1877      * Emits an {Approval} event.
1878      */
1879     function approve(address to, uint256 tokenId) external;
1880 
1881     /**
1882      * @dev Approve or remove `operator` as an operator for the caller.
1883      * Operators can call {transferFrom} or {safeTransferFrom} for any token owned by the caller.
1884      *
1885      * Requirements:
1886      *
1887      * - The `operator` cannot be the caller.
1888      *
1889      * Emits an {ApprovalForAll} event.
1890      */
1891     function setApprovalForAll(address operator, bool _approved) external;
1892 
1893     /**
1894      * @dev Returns the account approved for `tokenId` token.
1895      *
1896      * Requirements:
1897      *
1898      * - `tokenId` must exist.
1899      */
1900     function getApproved(uint256 tokenId)
1901         external
1902         view
1903         returns (address operator);
1904 
1905     /**
1906      * @dev Returns if the `operator` is allowed to manage all of the assets of `owner`.
1907      *
1908      * See {setApprovalForAll}
1909      */
1910     function isApprovedForAll(address owner, address operator)
1911         external
1912         view
1913         returns (bool);
1914 }
1915 
1916 // File: @openzeppelin/contracts/token/ERC721/extensions/IERC721Enumerable.sol
1917 
1918 // OpenZeppelin Contracts (last updated v4.5.0) (token/ERC721/extensions/IERC721Enumerable.sol)
1919 
1920 pragma solidity ^0.8.0;
1921 
1922 /**
1923  * @title ERC-721 Non-Fungible Token Standard, optional enumeration extension
1924  * @dev See https://eips.ethereum.org/EIPS/eip-721
1925  */
1926 interface IERC721Enumerable is IERC721 {
1927     /**
1928      * @dev Returns the total amount of tokens stored by the contract.
1929      */
1930     function totalSupply() external view returns (uint256);
1931 
1932     /**
1933      * @dev Returns a token ID owned by `owner` at a given `index` of its token list.
1934      * Use along with {balanceOf} to enumerate all of ``owner``'s tokens.
1935      */
1936     function tokenOfOwnerByIndex(address owner, uint256 index)
1937         external
1938         view
1939         returns (uint256);
1940 
1941     /**
1942      * @dev Returns a token ID at a given `index` of all the tokens stored by the contract.
1943      * Use along with {totalSupply} to enumerate all tokens.
1944      */
1945     function tokenByIndex(uint256 index) external view returns (uint256);
1946 }
1947 
1948 // File: @openzeppelin/contracts/token/ERC721/extensions/IERC721Metadata.sol
1949 
1950 // OpenZeppelin Contracts v4.4.1 (token/ERC721/extensions/IERC721Metadata.sol)
1951 
1952 pragma solidity ^0.8.0;
1953 
1954 /**
1955  * @title ERC-721 Non-Fungible Token Standard, optional metadata extension
1956  * @dev See https://eips.ethereum.org/EIPS/eip-721
1957  */
1958 interface IERC721Metadata is IERC721 {
1959     /**
1960      * @dev Returns the token collection name.
1961      */
1962     function name() external view returns (string memory);
1963 
1964     /**
1965      * @dev Returns the token collection symbol.
1966      */
1967     function symbol() external view returns (string memory);
1968 
1969     /**
1970      * @dev Returns the Uniform Resource Identifier (URI) for `tokenId` token.
1971      */
1972     function tokenURI(uint256 tokenId) external view returns (string memory);
1973 }
1974 
1975 // File: contracts/ERC721A.sol
1976 
1977 pragma solidity ^0.8.0;
1978 
1979 /**
1980  * @dev Implementation of https://eips.ethereum.org/EIPS/eip-721[ERC721] Non-Fungible Token Standard, including
1981  * the Metadata and Enumerable extension. Built to optimize for lower gas during batch mints.
1982  *
1983  * Assumes serials are sequentially minted starting at 0 (e.g. 0, 1, 2, 3..).
1984  *
1985  * Assumes the number of issuable tokens (collection size) is capped and fits in a uint128.
1986  *
1987  * Does not support burning tokens to address(0).
1988  */
1989 contract ERC721A is
1990     Context,
1991     ERC165,
1992     IERC721,
1993     IERC721Metadata,
1994     IERC721Enumerable
1995 {
1996     using Address for address;
1997     using Strings for uint256;
1998 
1999     struct TokenOwnership {
2000         address addr;
2001         uint64 startTimestamp;
2002     }
2003 
2004     struct AddressData {
2005         uint128 balance;
2006         uint128 numberMinted;
2007     }
2008 
2009     uint256 private currentIndex = 0;
2010 
2011     uint256 internal immutable collectionSize;
2012     uint256 internal immutable maxBatchSize;
2013 
2014     // Token name
2015     string private _name;
2016 
2017     // Token symbol
2018     string private _symbol;
2019 
2020     // Mapping from token ID to ownership details
2021     // An empty struct value does not necessarily mean the token is unowned. See ownershipOf implementation for details.
2022     mapping(uint256 => TokenOwnership) private _ownerships;
2023 
2024     // Mapping owner address to address data
2025     mapping(address => AddressData) private _addressData;
2026 
2027     // Mapping from token ID to approved address
2028     mapping(uint256 => address) private _tokenApprovals;
2029 
2030     // Mapping from owner to operator approvals
2031     mapping(address => mapping(address => bool)) private _operatorApprovals;
2032 
2033     /**
2034      * @dev
2035      * `maxBatchSize` refers to how much a minter can mint at a time.
2036      * `collectionSize_` refers to how many tokens are in the collection.
2037      */
2038     constructor(
2039         string memory name_,
2040         string memory symbol_,
2041         uint256 maxBatchSize_,
2042         uint256 collectionSize_
2043     ) {
2044         require(
2045             collectionSize_ > 0,
2046             "ERC721A: collection must have a nonzero supply"
2047         );
2048         require(maxBatchSize_ > 0, "ERC721A: max batch size must be nonzero");
2049         _name = name_;
2050         _symbol = symbol_;
2051         maxBatchSize = maxBatchSize_;
2052         collectionSize = collectionSize_;
2053     }
2054 
2055     /**
2056      * @dev See {IERC721Enumerable-totalSupply}.
2057      */
2058     function totalSupply() public view override returns (uint256) {
2059         return currentIndex;
2060     }
2061 
2062     /**
2063      * @dev See {IERC721Enumerable-tokenByIndex}.
2064      */
2065     function tokenByIndex(uint256 index)
2066         public
2067         view
2068         override
2069         returns (uint256)
2070     {
2071         require(index < totalSupply(), "ERC721A: global index out of bounds");
2072         return index;
2073     }
2074 
2075     /**
2076      * @dev See {IERC721Enumerable-tokenOfOwnerByIndex}.
2077      * This read function is O(collectionSize). If calling from a separate contract, be sure to test gas first.
2078      * It may also degrade with extremely large collection sizes (e.g >> 10000), test for your use case.
2079      */
2080     function tokenOfOwnerByIndex(address owner, uint256 index)
2081         public
2082         view
2083         override
2084         returns (uint256)
2085     {
2086         require(index < balanceOf(owner), "ERC721A: owner index out of bounds");
2087         uint256 numMintedSoFar = totalSupply();
2088         uint256 tokenIdsIdx = 0;
2089         address currOwnershipAddr = address(0);
2090         for (uint256 i = 0; i < numMintedSoFar; i++) {
2091             TokenOwnership memory ownership = _ownerships[i];
2092             if (ownership.addr != address(0)) {
2093                 currOwnershipAddr = ownership.addr;
2094             }
2095             if (currOwnershipAddr == owner) {
2096                 if (tokenIdsIdx == index) {
2097                     return i;
2098                 }
2099                 tokenIdsIdx++;
2100             }
2101         }
2102         revert("ERC721A: unable to get token of owner by index");
2103     }
2104 
2105     /**
2106      * @dev See {IERC165-supportsInterface}.
2107      */
2108     function supportsInterface(bytes4 interfaceId)
2109         public
2110         view
2111         virtual
2112         override(ERC165, IERC165)
2113         returns (bool)
2114     {
2115         return
2116             interfaceId == type(IERC721).interfaceId ||
2117             interfaceId == type(IERC721Metadata).interfaceId ||
2118             interfaceId == type(IERC721Enumerable).interfaceId ||
2119             super.supportsInterface(interfaceId);
2120     }
2121 
2122     /**
2123      * @dev See {IERC721-balanceOf}.
2124      */
2125     function balanceOf(address owner) public view override returns (uint256) {
2126         require(
2127             owner != address(0),
2128             "ERC721A: balance query for the zero address"
2129         );
2130         return uint256(_addressData[owner].balance);
2131     }
2132 
2133     function _numberMinted(address owner) internal view returns (uint256) {
2134         require(
2135             owner != address(0),
2136             "ERC721A: number minted query for the zero address"
2137         );
2138         return uint256(_addressData[owner].numberMinted);
2139     }
2140 
2141     function ownershipOf(uint256 tokenId)
2142         internal
2143         view
2144         returns (TokenOwnership memory)
2145     {
2146         require(_exists(tokenId), "ERC721A: owner query for nonexistent token");
2147 
2148         uint256 lowestTokenToCheck;
2149         if (tokenId >= maxBatchSize) {
2150             lowestTokenToCheck = tokenId - maxBatchSize + 1;
2151         }
2152 
2153         for (uint256 curr = tokenId; curr >= lowestTokenToCheck; curr--) {
2154             TokenOwnership memory ownership = _ownerships[curr];
2155             if (ownership.addr != address(0)) {
2156                 return ownership;
2157             }
2158         }
2159 
2160         revert("ERC721A: unable to determine the owner of token");
2161     }
2162 
2163     /**
2164      * @dev See {IERC721-ownerOf}.
2165      */
2166     function ownerOf(uint256 tokenId) public view override returns (address) {
2167         return ownershipOf(tokenId).addr;
2168     }
2169 
2170     /**
2171      * @dev See {IERC721Metadata-name}.
2172      */
2173     function name() public view virtual override returns (string memory) {
2174         return _name;
2175     }
2176 
2177     /**
2178      * @dev See {IERC721Metadata-symbol}.
2179      */
2180     function symbol() public view virtual override returns (string memory) {
2181         return _symbol;
2182     }
2183 
2184     /**
2185      * @dev See {IERC721Metadata-tokenURI}.
2186      */
2187     function tokenURI(uint256 tokenId)
2188         public
2189         view
2190         virtual
2191         override
2192         returns (string memory)
2193     {
2194         require(
2195             _exists(tokenId),
2196             "ERC721Metadata: URI query for nonexistent token"
2197         );
2198 
2199         string memory baseURI = _baseURI();
2200         return
2201             bytes(baseURI).length > 0
2202                 ? string(abi.encodePacked(baseURI, tokenId.toString()))
2203                 : "";
2204     }
2205 
2206     /**
2207      * @dev Base URI for computing {tokenURI}. If set, the resulting URI for each
2208      * token will be the concatenation of the `baseURI` and the `tokenId`. Empty
2209      * by default, can be overriden in child contracts.
2210      */
2211     function _baseURI() internal view virtual returns (string memory) {
2212         return "";
2213     }
2214 
2215     /**
2216      * @dev See {IERC721-approve}.
2217      */
2218     function approve(address to, uint256 tokenId) public override {
2219         address owner = ERC721A.ownerOf(tokenId);
2220         require(to != owner, "ERC721A: approval to current owner");
2221 
2222         require(
2223             _msgSender() == owner || isApprovedForAll(owner, _msgSender()),
2224             "ERC721A: approve caller is not owner nor approved for all"
2225         );
2226 
2227         _approve(to, tokenId, owner);
2228     }
2229 
2230     /**
2231      * @dev See {IERC721-getApproved}.
2232      */
2233     function getApproved(uint256 tokenId)
2234         public
2235         view
2236         override
2237         returns (address)
2238     {
2239         require(
2240             _exists(tokenId),
2241             "ERC721A: approved query for nonexistent token"
2242         );
2243 
2244         return _tokenApprovals[tokenId];
2245     }
2246 
2247     /**
2248      * @dev See {IERC721-setApprovalForAll}.
2249      */
2250     function setApprovalForAll(address operator, bool approved)
2251         public
2252         override
2253     {
2254         require(operator != _msgSender(), "ERC721A: approve to caller");
2255 
2256         _operatorApprovals[_msgSender()][operator] = approved;
2257         emit ApprovalForAll(_msgSender(), operator, approved);
2258     }
2259 
2260     /**
2261      * @dev See {IERC721-isApprovedForAll}.
2262      */
2263     function isApprovedForAll(address owner, address operator)
2264         public
2265         view
2266         virtual
2267         override
2268         returns (bool)
2269     {
2270         return _operatorApprovals[owner][operator];
2271     }
2272 
2273     /**
2274      * @dev See {IERC721-transferFrom}.
2275      */
2276     function transferFrom(
2277         address from,
2278         address to,
2279         uint256 tokenId
2280     ) public override {
2281         _transfer(from, to, tokenId);
2282     }
2283 
2284     /**
2285      * @dev See {IERC721-safeTransferFrom}.
2286      */
2287     function safeTransferFrom(
2288         address from,
2289         address to,
2290         uint256 tokenId
2291     ) public override {
2292         safeTransferFrom(from, to, tokenId, "");
2293     }
2294 
2295     /**
2296      * @dev See {IERC721-safeTransferFrom}.
2297      */
2298     function safeTransferFrom(
2299         address from,
2300         address to,
2301         uint256 tokenId,
2302         bytes memory _data
2303     ) public override {
2304         _transfer(from, to, tokenId);
2305         require(
2306             _checkOnERC721Received(from, to, tokenId, _data),
2307             "ERC721A: transfer to non ERC721Receiver implementer"
2308         );
2309     }
2310 
2311     /**
2312      * @dev Returns whether `tokenId` exists.
2313      *
2314      * Tokens can be managed by their owner or approved accounts via {approve} or {setApprovalForAll}.
2315      *
2316      * Tokens start existing when they are minted (`_mint`),
2317      */
2318     function _exists(uint256 tokenId) internal view returns (bool) {
2319         return tokenId < currentIndex;
2320     }
2321 
2322     function _safeMint(address to, uint256 quantity) internal {
2323         _safeMint(to, quantity, "");
2324     }
2325 
2326     /**
2327      * @dev Mints `quantity` tokens and transfers them to `to`.
2328      *
2329      * Requirements:
2330      *
2331      * - there must be `quantity` tokens remaining unminted in the total collection.
2332      * - `to` cannot be the zero address.
2333      * - `quantity` cannot be larger than the max batch size.
2334      *
2335      * Emits a {Transfer} event.
2336      */
2337     function _safeMint(
2338         address to,
2339         uint256 quantity,
2340         bytes memory _data
2341     ) internal {
2342         uint256 startTokenId = currentIndex;
2343         require(to != address(0), "ERC721A: mint to the zero address");
2344         // We know if the first token in the batch doesn't exist, the other ones don't as well, because of serial ordering.
2345         require(!_exists(startTokenId), "ERC721A: token already minted");
2346         require(quantity <= maxBatchSize, "ERC721A: quantity to mint too high");
2347 
2348         _beforeTokenTransfers(address(0), to, startTokenId, quantity);
2349 
2350         AddressData memory addressData = _addressData[to];
2351         _addressData[to] = AddressData(
2352             addressData.balance + uint128(quantity),
2353             addressData.numberMinted + uint128(quantity)
2354         );
2355         _ownerships[startTokenId] = TokenOwnership(to, uint64(block.timestamp));
2356 
2357         uint256 updatedIndex = startTokenId;
2358 
2359         for (uint256 i = 0; i < quantity; i++) {
2360             emit Transfer(address(0), to, updatedIndex);
2361             require(
2362                 _checkOnERC721Received(address(0), to, updatedIndex, _data),
2363                 "ERC721A: transfer to non ERC721Receiver implementer"
2364             );
2365             updatedIndex++;
2366         }
2367 
2368         currentIndex = updatedIndex;
2369         _afterTokenTransfers(address(0), to, startTokenId, quantity);
2370     }
2371 
2372     /**
2373      * @dev Transfers `tokenId` from `from` to `to`.
2374      *
2375      * Requirements:
2376      *
2377      * - `to` cannot be the zero address.
2378      * - `tokenId` token must be owned by `from`.
2379      *
2380      * Emits a {Transfer} event.
2381      */
2382     function _transfer(
2383         address from,
2384         address to,
2385         uint256 tokenId
2386     ) private {
2387         TokenOwnership memory prevOwnership = ownershipOf(tokenId);
2388 
2389         bool isApprovedOrOwner = (_msgSender() == prevOwnership.addr ||
2390             getApproved(tokenId) == _msgSender() ||
2391             isApprovedForAll(prevOwnership.addr, _msgSender()));
2392 
2393         require(
2394             isApprovedOrOwner,
2395             "ERC721A: transfer caller is not owner nor approved"
2396         );
2397 
2398         require(
2399             prevOwnership.addr == from,
2400             "ERC721A: transfer from incorrect owner"
2401         );
2402         require(to != address(0), "ERC721A: transfer to the zero address");
2403 
2404         _beforeTokenTransfers(from, to, tokenId, 1);
2405 
2406         // Clear approvals from the previous owner
2407         _approve(address(0), tokenId, prevOwnership.addr);
2408 
2409         _addressData[from].balance -= 1;
2410         _addressData[to].balance += 1;
2411         _ownerships[tokenId] = TokenOwnership(to, uint64(block.timestamp));
2412 
2413         // If the ownership slot of tokenId+1 is not explicitly set, that means the transfer initiator owns it.
2414         // Set the slot of tokenId+1 explicitly in storage to maintain correctness for ownerOf(tokenId+1) calls.
2415         uint256 nextTokenId = tokenId + 1;
2416         if (_ownerships[nextTokenId].addr == address(0)) {
2417             if (_exists(nextTokenId)) {
2418                 _ownerships[nextTokenId] = TokenOwnership(
2419                     prevOwnership.addr,
2420                     prevOwnership.startTimestamp
2421                 );
2422             }
2423         }
2424 
2425         emit Transfer(from, to, tokenId);
2426         _afterTokenTransfers(from, to, tokenId, 1);
2427     }
2428 
2429     /**
2430      * @dev Approve `to` to operate on `tokenId`
2431      *
2432      * Emits a {Approval} event.
2433      */
2434     function _approve(
2435         address to,
2436         uint256 tokenId,
2437         address owner
2438     ) private {
2439         _tokenApprovals[tokenId] = to;
2440         emit Approval(owner, to, tokenId);
2441     }
2442 
2443     uint256 public nextOwnerToExplicitlySet = 0;
2444 
2445     /**
2446      * @dev Explicitly set `owners` to eliminate loops in future calls of ownerOf().
2447      */
2448     function _setOwnersExplicit(uint256 quantity) internal {
2449         uint256 oldNextOwnerToSet = nextOwnerToExplicitlySet;
2450         require(quantity > 0, "quantity must be nonzero");
2451         uint256 endIndex = oldNextOwnerToSet + quantity - 1;
2452         if (endIndex > collectionSize - 1) {
2453             endIndex = collectionSize - 1;
2454         }
2455         // We know if the last one in the group exists, all in the group exist, due to serial ordering.
2456         require(_exists(endIndex), "not enough minted yet for this cleanup");
2457         for (uint256 i = oldNextOwnerToSet; i <= endIndex; i++) {
2458             if (_ownerships[i].addr == address(0)) {
2459                 TokenOwnership memory ownership = ownershipOf(i);
2460                 _ownerships[i] = TokenOwnership(
2461                     ownership.addr,
2462                     ownership.startTimestamp
2463                 );
2464             }
2465         }
2466         nextOwnerToExplicitlySet = endIndex + 1;
2467     }
2468 
2469     /**
2470      * @dev Internal function to invoke {IERC721Receiver-onERC721Received} on a target address.
2471      * The call is not executed if the target address is not a contract.
2472      *
2473      * @param from address representing the previous owner of the given token ID
2474      * @param to target address that will receive the tokens
2475      * @param tokenId uint256 ID of the token to be transferred
2476      * @param _data bytes optional data to send along with the call
2477      * @return bool whether the call correctly returned the expected magic value
2478      */
2479     function _checkOnERC721Received(
2480         address from,
2481         address to,
2482         uint256 tokenId,
2483         bytes memory _data
2484     ) private returns (bool) {
2485         if (to.isContract()) {
2486             try
2487                 IERC721Receiver(to).onERC721Received(
2488                     _msgSender(),
2489                     from,
2490                     tokenId,
2491                     _data
2492                 )
2493             returns (bytes4 retval) {
2494                 return retval == IERC721Receiver(to).onERC721Received.selector;
2495             } catch (bytes memory reason) {
2496                 if (reason.length == 0) {
2497                     revert(
2498                         "ERC721A: transfer to non ERC721Receiver implementer"
2499                     );
2500                 } else {
2501                     assembly {
2502                         revert(add(32, reason), mload(reason))
2503                     }
2504                 }
2505             }
2506         } else {
2507             return true;
2508         }
2509     }
2510 
2511     /**
2512      * @dev Hook that is called before a set of serially-ordered token ids are about to be transferred. This includes minting.
2513      *
2514      * startTokenId - the first token id to be transferred
2515      * quantity - the amount to be transferred
2516      *
2517      * Calling conditions:
2518      *
2519      * - When `from` and `to` are both non-zero, ``from``'s `tokenId` will be
2520      * transferred to `to`.
2521      * - When `from` is zero, `tokenId` will be minted for `to`.
2522      */
2523     function _beforeTokenTransfers(
2524         address from,
2525         address to,
2526         uint256 startTokenId,
2527         uint256 quantity
2528     ) internal virtual {}
2529 
2530     /**
2531      * @dev Hook that is called after a set of serially-ordered token ids have been transferred. This includes
2532      * minting.
2533      *
2534      * startTokenId - the first token id to be transferred
2535      * quantity - the amount to be transferred
2536      *
2537      * Calling conditions:
2538      *
2539      * - when `from` and `to` are both non-zero.
2540      * - `from` and `to` are never both zero.
2541      */
2542     function _afterTokenTransfers(
2543         address from,
2544         address to,
2545         uint256 startTokenId,
2546         uint256 quantity
2547     ) internal virtual {}
2548 }
2549 
2550 pragma solidity ^0.8.11;
2551 
2552 
2553 
2554 
2555 contract $TOON is ERC20Burnable, Ownable {
2556     using SafeMath for uint256;
2557 
2558     ERC721A public devilCatzNft;
2559 
2560     uint256 public cost = 0.0005 ether;
2561     event Bought(uint256 amount);
2562     uint256 public maxSupply = 1235813;
2563     uint256 public stakedNfts = 0;
2564     uint256 public rewardsTime = 86400;
2565 
2566     bool public nftStakingPaused = false;
2567     bool public rewardsCollectionPaused = false;
2568     mapping(address => mapping(uint256 => uint256)) public nftStakersWithTime;
2569     mapping(address => uint256[]) private nftStakersWithArray;
2570     mapping(address => uint256) public rewardsInWei;
2571 
2572     constructor() payable ERC20("$TOON", "$TOON") {
2573         _mint(address(this), 935813);
2574         _mint(0x1aBC6efe814F2766003d0c4AA5496B9b0EBC6eA3, 150000);
2575         _mint(0x4538C3d93FfdE7677EF66aB548a4Dd7f39eca785, 150000);
2576         devilCatzNft = ERC721A(0x1c4a28690482b03F6991C8c24295016cba197C12);
2577     }
2578 
2579     function getUsersStakedNfts(address _staker)
2580         public
2581         view
2582         returns (uint256[] memory)
2583     {
2584         return nftStakersWithArray[_staker];
2585     }
2586 
2587     function decimals() public view virtual override returns (uint8) {
2588         return 0;
2589     }
2590 
2591     function circulatingSupply() public view returns (uint256) {
2592         return (this.totalSupply() - balanceOf(address(this)));
2593     }
2594 
2595     function setMaxSupply(uint256 _amount) public onlyOwner {
2596         require(
2597             circulatingSupply() < _amount,
2598             "Cant set new total supply less than old supply."
2599         );
2600         maxSupply = _amount;
2601     }
2602 
2603     function setNftStakingPaused(bool _b) public onlyOwner {
2604         nftStakingPaused = _b;
2605     }
2606 
2607     function setRewardsCollectionPaused(bool _b) public onlyOwner {
2608         rewardsCollectionPaused = _b;
2609     }
2610 
2611     function buy(uint256 _quantity) public payable {
2612         require(_quantity > 0, "Quantity needs to be greater than 1");
2613         require(
2614             balanceOf(address(this)) > _quantity,
2615             "Not enough left in contract to buy.."
2616         );
2617         uint256 totalCostEth = _quantity * cost;
2618         require(msg.value >= totalCostEth, "Did not send enough ETH");
2619         _transfer(address(this), msg.sender, _quantity);
2620         emit Bought(_quantity);
2621     }
2622 
2623     function withdrawEthFromContract(uint256 _amount) public payable onlyOwner {
2624         (bool os, ) = payable(owner()).call{value: _amount}("");
2625         require(os);
2626     }
2627 
2628     function withdrawToonFromContract(uint256 _amount)
2629         public
2630         payable
2631         onlyOwner
2632     {
2633         _transfer(address(this), owner(), _amount);
2634     }
2635 
2636     function sendToonFromConract(address addy, uint256 _amount)
2637         public
2638         payable
2639         onlyOwner
2640     {
2641         _transfer(address(this), addy, _amount);
2642     }
2643 
2644     function setCost(uint256 _newCost) public onlyOwner {
2645         cost = _newCost;
2646     }
2647 
2648     function burn(uint256 _amount) public virtual override {
2649         _burn(_msgSender(), _amount);
2650         maxSupply -= _amount;
2651     }
2652 
2653     function stakeNft(uint256 _tokenID) public {
2654         require(!nftStakingPaused, "Staking NFTs is currently paused.");
2655         require(
2656             nftStakersWithTime[msg.sender][_tokenID] == 0,
2657             "This token already staked."
2658         );
2659         devilCatzNft.transferFrom(msg.sender, address(this), _tokenID);
2660         nftStakersWithTime[msg.sender][_tokenID] = block.timestamp;
2661         stakedNfts += 1;
2662         nftStakersWithArray[msg.sender].push(_tokenID);
2663     }
2664 
2665     function stakeMultipleNfts(uint256[] calldata _nftIds) public {
2666         require(!nftStakingPaused, "Staking NFTs is currently paused.");
2667         for (uint256 i = 0; i <= _nftIds.length - 1; i++) {
2668             require(
2669                 devilCatzNft.ownerOf(_nftIds[i]) == msg.sender,
2670                 "Not all of those NFTs are in your current wallet."
2671             );
2672 
2673             devilCatzNft.transferFrom(msg.sender, address(this), _nftIds[i]);
2674             nftStakersWithTime[msg.sender][_nftIds[i]] = block.timestamp;
2675             stakedNfts += 1;
2676             nftStakersWithArray[msg.sender].push(_nftIds[i]);
2677         }
2678     }
2679 
2680     function potentialAllStakedNftReward(address _addy)
2681         public
2682         view
2683         returns (uint256)
2684     {
2685         uint256[] memory nfts = getUsersStakedNfts(_addy);
2686         uint256 intDate = 0;
2687         uint256 subtracted = 0;
2688         uint256 utilToken = 0;
2689 
2690         for (uint256 i = 0; i < nfts.length; i++) {
2691             if (nftStakersWithTime[_addy][nfts[i]] != 0) {
2692                 intDate = nftStakersWithTime[_addy][nfts[i]];
2693                 subtracted = block.timestamp - intDate;
2694                 utilToken += subtracted / rewardsTime;
2695             }
2696         }
2697         return utilToken * 1;
2698     }
2699 
2700     function potentialStakedNftReward(address _addy, uint256 _tokenID)
2701         public
2702         view
2703         returns (uint256)
2704     {
2705         require(
2706             nftStakersWithTime[_addy][_tokenID] != 0,
2707             "This token not staked."
2708         );
2709         uint256 intDate = nftStakersWithTime[_addy][_tokenID];
2710         uint256 subtracted = block.timestamp - intDate;
2711         uint256 tokens = subtracted / rewardsTime;
2712         return tokens * 1;
2713     }
2714 
2715     function collectStakedNftReward(address _addy, uint256 _tokenID) public {
2716         require(!nftStakingPaused, "Staking NFTs is currently paused.");
2717         require(
2718             nftStakersWithTime[_addy][_tokenID] != 0,
2719             "This token not staked."
2720         );
2721         require(
2722             potentialStakedNftReward(_addy, _tokenID) != 0,
2723             "You dont have enough to claim."
2724         );
2725 
2726         uint256 tokens = potentialStakedNftReward(_addy, _tokenID);
2727         _transfer(address(this), _addy, tokens);
2728         nftStakersWithTime[_addy][_tokenID] = block.timestamp;
2729     }
2730 
2731     function collectMultipleStakedNftReward(uint256[] calldata _nftIds) public {
2732         require(
2733             !rewardsCollectionPaused,
2734             "Collecting Rewards is currently paused."
2735         );
2736 
2737         for (uint256 i = 0; i <= _nftIds.length - 1; i++) {
2738             require(
2739                 nftStakersWithTime[msg.sender][_nftIds[i]] != 0,
2740                 "Not all those tokens are staked."
2741             );
2742             collectStakedNftReward(msg.sender, _nftIds[i]);
2743         }
2744     }
2745 
2746     function removeStakedNft(uint256 _stakedNFT) public {
2747         require(
2748             nftStakersWithTime[msg.sender][_stakedNFT] != 0,
2749             "Cant Unstake something your not staking."
2750         );
2751         devilCatzNft.transferFrom(address(this), msg.sender, _stakedNFT);
2752         nftStakersWithTime[msg.sender][_stakedNFT] = 0;
2753         stakedNfts -= 1;
2754 
2755         uint256[] storage tempArray = nftStakersWithArray[msg.sender];
2756         for (uint256 i = 0; i < tempArray.length; i++) {
2757             if (tempArray[i] == _stakedNFT) {
2758                 if (i >= tempArray.length) return;
2759 
2760                 for (uint256 j = i; j < tempArray.length - 1; j++) {
2761                     tempArray[j] = tempArray[j + 1];
2762                 }
2763                 tempArray.pop();
2764                 nftStakersWithArray[msg.sender] = tempArray;
2765             }
2766         }
2767     }
2768 
2769     function removeMultipleStakedNft(uint256[] calldata _nftIds) public {
2770         for (uint256 k = 0; k <= _nftIds.length - 1; k++) {
2771             require(
2772                 nftStakersWithTime[msg.sender][_nftIds[k]] != 0,
2773                 "Cant Unstake something your not staking."
2774             );
2775             removeStakedNft(_nftIds[k]);
2776         }
2777     }
2778 }
2779 
2780 pragma solidity ^0.8.11;
2781 
2782 contract FruitTownGremlinsWTFruit is ERC721A, Ownable {
2783     using Strings for uint256;
2784     $TOON public $toon;
2785     ERC721A public devilCatzNft;
2786     uint256 public immutable MAX_SUPPLY = 4444;
2787     uint256 public immutable MAX_MINT_AMOUNT = 50;
2788     bool public isFreeMintOpen = false;
2789     uint256 public freeMintAmount = 3;
2790     uint256 public stakersMintAmount = 10;
2791     uint256 public mintCost = 0.1 ether;
2792     uint256 public toonMintMultiplier = 1;
2793 
2794     uint256 public sellOwnerShipCostInEth = 50 ether;
2795     uint256 public sellOwnerShipCostInToon = 1000000;
2796     string public BASE_URI =
2797         "https://fruittown.s3.us-east-2.amazonaws.com/json/";
2798     string public BASE_EXTENSION = ".json";
2799     string public NOT_REVEALED_URI =
2800         "https://fruittown.s3.us-east-2.amazonaws.com/images/ftgbanner.png";
2801     bool public PAUSED = false;
2802     bool public REVEALED = true;
2803     bool public isContractForToonSale = false;
2804     bool public isContractForEthSale = false;
2805     mapping(uint256 => bool) public hasCatFreeMinted; 
2806     mapping(address => bool) public hasStakerAddressFreeMinted; 
2807     mapping(address => bool) public hasPublicAddressMinted; 
2808     address public ARTIST = 0x49A6e20E7C56D526B0AE30c5B61D7FAe9c958961;
2809     address public DEV = 0x75939FA0D2F41542F5e8634ce88E2aE9bFD48767;
2810     constructor() ERC721A("FruitTownGremlins.WTFruit", "WTFruit", MAX_SUPPLY, MAX_MINT_AMOUNT) {
2811         devilCatzNft = ERC721A(0x1c4a28690482b03F6991C8c24295016cba197C12); 
2812         $toon = $TOON(0x61DED8A72cDc7762D159ab46bE880BE7127A2DeF);  
2813         _safeMint(ARTIST, 355);
2814         _safeMint(DEV, 55);
2815         _safeMint(0x689Ee5488a551E5d67ce38D971d998ab6C0Fa6EE,40);
2816     }
2817 
2818      modifier onlyDev() {
2819         require(msg.sender == DEV, "Dev only!");
2820         _;
2821     }
2822 
2823     modifier onlyArtist() {
2824         require(msg.sender == ARTIST, "Dev only!");
2825         _;
2826     }
2827 
2828     modifier mintChecks(uint256 _mintAmount) {
2829         require(_mintAmount > 0, "Mint amount has to be greater than 0.");
2830         require(
2831             totalSupply() + _mintAmount <= MAX_SUPPLY,
2832             "Minting that many would go over whats available."
2833         );
2834         require(
2835             _mintAmount <= MAX_MINT_AMOUNT,
2836             "Can not exceed max mint amount."
2837         );
2838         _;
2839     }
2840 
2841     function setToonMintMultiplier(uint256 _x) public onlyOwner {
2842         toonMintMultiplier = _x;
2843     }
2844     function setDev(address _address) public onlyDev {
2845         DEV = _address;
2846     }
2847 
2848     function setArtist(address _address) public onlyArtist {
2849         ARTIST = _address;
2850     }
2851 
2852     function setIsFreeMintOpen(bool b) public onlyOwner {
2853         isFreeMintOpen = b;
2854     }
2855 
2856 
2857     function setFreeMintAmount(uint256 amount) public onlyOwner {
2858         freeMintAmount = amount;
2859     }
2860 
2861        function setisContractForToonSale(bool b) public onlyOwner {
2862         isContractForToonSale = b;
2863     }
2864 
2865         function setisContractForEthSale(bool b) public onlyOwner {
2866         isContractForEthSale = b;
2867     }
2868 
2869     function setCost(uint256 _newCost) public onlyOwner {
2870         mintCost = _newCost;
2871     }
2872 
2873     function setBaseURI(string memory _newBaseURI) public onlyArtist {
2874         BASE_URI = _newBaseURI;
2875     }
2876 
2877     function setBaseExtension(string memory _newBaseExtension)
2878         public
2879         onlyArtist
2880     {
2881         BASE_EXTENSION = _newBaseExtension;
2882     }
2883 
2884     function setStakersMintAmount(uint256 amount) public onlyOwner {
2885         require(
2886             amount <= MAX_MINT_AMOUNT,
2887             "Cant be greater than max mint amount."
2888         );
2889         stakersMintAmount = amount;
2890     }
2891 
2892       function setSellOwnerShipInEth(uint256 cost) public onlyOwner {
2893         sellOwnerShipCostInEth = cost;
2894     }
2895 
2896 
2897 
2898     function setSellOwnerShipCostInToon(uint256 cost) public onlyOwner {
2899         sellOwnerShipCostInToon = cost;
2900     }
2901 
2902     function buyContractWithTOON() public payable {
2903                 require(isContractForToonSale, "Contract not for sale right now for ETH");
2904 
2905         $toon.transferFrom(msg.sender, owner(), sellOwnerShipCostInToon);
2906         _transferOwnership(msg.sender);
2907     }
2908 
2909 
2910 
2911 
2912     /**
2913     Devil Cat Free Mint
2914     **/
2915     function catFreeMint(uint256[] calldata catsToClaimFreeMint)
2916         public
2917         payable
2918         mintChecks(catsToClaimFreeMint.length)
2919     {
2920         uint256 numToMint = 0;
2921         for (uint256 i = 0; i < catsToClaimFreeMint.length; i++) {
2922             require(
2923                 !hasCatFreeMinted[catsToClaimFreeMint[i]],
2924                 "One of these cats have already claimed a FTG.Wtfruit"
2925             );
2926 
2927             if (devilCatzNft.ownerOf(catsToClaimFreeMint[i]) == msg.sender) {
2928                 numToMint += 1;
2929             } else {
2930                 require(
2931                     $toon.nftStakersWithTime(
2932                         msg.sender,
2933                         catsToClaimFreeMint[i]
2934                     ) > 0,
2935                     "No Cats unstaked or staked found."
2936                 );
2937                 numToMint += 1;
2938             }
2939         }
2940         _safeMint(msg.sender, numToMint);
2941         for (uint256 i = 0; i < catsToClaimFreeMint.length; i++) {
2942             hasCatFreeMinted[catsToClaimFreeMint[i]] = true;
2943         }
2944     }
2945 
2946     /**
2947     Stakers Mint
2948     **/
2949     function stakedAddressesFreeMint()
2950         public
2951         payable
2952         mintChecks(stakersMintAmount)
2953     {
2954         require(
2955             $toon.getUsersStakedNfts(msg.sender).length > 0,
2956             "No staked catz found."
2957         );
2958         require(
2959             !hasStakerAddressFreeMinted[msg.sender],
2960             "This address already claimed free staking mint."
2961         );
2962         _safeMint(msg.sender, stakersMintAmount);
2963         hasStakerAddressFreeMinted[msg.sender] = true;
2964     }
2965 
2966     /**
2967      *FREE MINT
2968      */
2969     function freeMint(uint256 _mintAmount)
2970         public
2971         payable
2972         mintChecks(_mintAmount)
2973     {
2974         require(isFreeMintOpen, "No Free Mints Right Now.");
2975         require(freeMintAmount >= _mintAmount, "Cant mint that many.");
2976         require(
2977             !hasPublicAddressMinted[msg.sender],
2978             "This address already claimed free mint."
2979         );
2980         _safeMint(msg.sender, _mintAmount);
2981         hasPublicAddressMinted[msg.sender] = true;
2982     }
2983 
2984     /**
2985      Mint for ETH
2986     **/
2987     function mintForEth(uint256 _mintAmount)
2988         public
2989         payable
2990         mintChecks(_mintAmount)
2991     {
2992         if (msg.sender != owner()) {
2993             require(
2994                 msg.value >= mintCost * _mintAmount,
2995                 "Not Enough Eth Sent."
2996             );
2997             _safeMint(msg.sender, _mintAmount);
2998         } else {
2999             _safeMint(msg.sender, _mintAmount);
3000         }
3001     }
3002 
3003     /**
3004      Mint for TOON
3005     **/ 
3006     function mintWithToon(uint256 _mintAmount)
3007         public
3008         payable
3009         mintChecks(_mintAmount * toonMintMultiplier )
3010     {
3011         $toon.transferFrom(msg.sender, owner(), _mintAmount);
3012         _safeMint(msg.sender, _mintAmount * toonMintMultiplier);
3013     }
3014 
3015 
3016     /**
3017     Buy Contract with ETH
3018     **/
3019     bool isFirstSale = true;
3020     function buyContractWithEth() public payable {
3021         require(isContractForEthSale, "Contract not for sale right now for ETH");
3022         require(
3023             msg.value >= sellOwnerShipCostInEth,
3024             "Not Enough Eth Sent to be Owner."
3025         );
3026             if(isFirstSale){
3027            
3028            uint256 teamFee = sellOwnerShipCostInEth / 2;
3029         (bool devBool, ) = payable(DEV).call{value: teamFee}("");
3030         require(devBool);
3031 
3032         (bool artBool, ) = payable(ARTIST).call{value: teamFee}("");
3033         require(artBool);
3034             isFirstSale = false;
3035             }else{
3036             uint256 teamFee = sellOwnerShipCostInEth / 50;
3037         (bool devBool, ) = payable(DEV).call{value: teamFee}("");
3038         require(devBool);
3039 
3040         (bool artBool, ) = payable(ARTIST).call{value: teamFee}("");
3041         require(artBool);
3042 
3043         uint256 result = sellOwnerShipCostInEth - teamFee - teamFee;
3044         (bool resultBool, ) = payable(owner()).call{value: result}("");
3045         require(resultBool);
3046 
3047             }
3048   
3049         _transferOwnership(msg.sender);
3050     }
3051 
3052     function tokenURI(uint256 _tokenId)
3053         public
3054         view
3055         virtual
3056         override
3057         returns (string memory)
3058     {
3059         require(
3060             _exists(_tokenId),
3061             "ERC721Metadata: URI query for nonexistent token"
3062         );
3063         return
3064             bytes(BASE_URI).length > 0
3065                 ? string(
3066                     abi.encodePacked(
3067                         BASE_URI,
3068                         (_tokenId).toString(),
3069                         BASE_EXTENSION
3070                     )
3071                 )
3072                 : "";
3073     }
3074 
3075     function withdraw(uint256 _amount) public payable onlyOwner {
3076         
3077            
3078             (bool resultBool, ) = payable(owner()).call{value: _amount}("");
3079             require(resultBool);    
3080     }
3081 
3082 }