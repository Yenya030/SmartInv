1 /* 
2 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
3 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
4 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNDOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
5 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN8OOOOOOOOOOOOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
6 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN8OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
7 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO8NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
8 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO8NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
9 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
10 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODNNNNNNNNNNNNNNNNNNNNNNNNNNNN
11 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNNNNNNNNNN
12 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNMOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNNNNNNNNN
13 NNNNNNNNNNNNNNNNNNNNNNNNNNNMOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOONNNNNNNNNNNNNNNNNNNNNNNNN
14 NNNNNNNNNNNNNNNNNNNNNNNNNNDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODNNNNNNNNNNNNNNNNNNNNNNN
15 NNNNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO7=~~~~~~+$OOOOOOOOOOOOOOOOOOOOOOO8NNNNNNNNNNNNNNNNNNNNNN
16 NNNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO?~~~~~~~~~~~~~~~~~~~~~~+OOOOOOOOOOOOOOOOOOO8NNNNNNNNNNNNNNNNNNNNN
17 NNNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOOOO==~~~~~~~~~~~~~~~~~~~~~~~~~~~~=$OOOOOOOOOOOOOOOOMNNNNNNNNNNNNNNNNNNNN
18 NNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOOOOI~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~8OOOOOOOOOOOOONNNNNNNNNNNNNNNNNNNN
19 NNNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~OOOOOOOOOOONNNNNNNNNNNNNNNNNNNN
20 NNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOOOI=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~OOOOOOOOONNNNNNNNNNNNNNNNNNNN
21 NNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOOOZ=~~~~~~~~~~~~~~~+NMMMMMO?~~~~~~~~~~~~~~~~~~~~~~~~~~~ZOOOOOONNNNNNNNNNNNNNNNNNNN
22 NNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=~NN==~~~~~~~~~~~~~~~~~~~~$ZOOOONNNNNNNNNNNNNNNNNNNN
23 NNNNNNNNNNNNNNNNNNNNNOOOOOOOOOOOOOOOO7~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~OOOONNNNNNNNNNNNNNNNNNNN
24 NNNNNNNNNNNNNNNNNNNNDOOOOOOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~OODNNNNNNNNNNNNNNNNNNNN
25 NNNNNNNNNNNNNNNNNNNMMMMMMM8OOOOOOOO=~~~~~~~~~~~~~~~~~~~~~~ONMMMMMMMMMMMMM?==~~~~~~~~~~~~~~~~~~~~~~=NNNNNNNNNNNNNNNNNNNNN
26 NNNNNNNNNNNNNNNNNNNMMMMMMMMMMMMMDZ~~~~~~~~~~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMM==~~~~~~~~~~M=~==DMMMMMNNNNNNNNNNNNNNNNNNN
27 NNNNNNNNNNNNNNNNNNOOOODMMMMMMMMMMMMMMMMMI~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMMMMMMMM~~~~~~~7MMMMMMMMMMMNNNNNNNNNNNNNNNNNNN
28 NNNNNNNNNNNNNNNNNOOOOOOOOOOONMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMN~~~~NNNNNNNNNNNNNNNNNNN
29 NNNNNNNNNNNNNNNNDOOOOOOOOOOOOOO===~IMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8~=~~~~~~~~~NNNNNNNNNNNNNNNNN
30 NNNNNNNNNNNNNNNNOOOOOOOOOOOOOOO~~~~~~~~~~==~~=$MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM?~~~~~~~~~~~~~~~~~~=~NNNNNNNNNNNNNN
31 NNNNNNNNNNNNNNNOOOOOOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM~~~~~~~~~~~~~~~~~~~~~~~?NNNNNNNNNNNN
32 NNNNNNNNNNNNNNNOOOOOOOOOOOOOO$=~~~~~~~~~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM8~~~~~~~~~~~~~~~~~~~~~~~~+NNNNNNNNNNN
33 NNNNNNNNNNNNNNNOOOOOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNN
34 NNNNNNNNNNNNNNNOOOOOOOOOOOOOI~~~~~~~~~~~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM~~~~~~~~~~~~~~~~~~~~~~~~~~=NNNNNNNNNN
35 NNNNNNNNNNNNNNNOOOOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM=~~~:...........=8MM+=~~~~~~NNNNNNNNNN
36 NNNNNNNNNNNNNNNNOOOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~=MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM~~~~.....MM?............DN~~MNNNNNNNNN
37 NNNNNNNNNNNNNNNNOOOOOOOOOOO+~~~~~~~~~~~~~~~~~~~~~~~MMMMMMMMMMMMMMMMMMMMMMMMMMMMMM=~~~~........................MNNNNNNNNN
38 NNNNNNNNNNNNNNNNNOOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~~~?MMMMMMMMMMMMMMMMMMMMMMMMMMMMD~~~~~........................NNNNNNNNNN
39 NNNNNNNNNNNNNNNNNDOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~~~~DMMMMMMMMMMMMMMMMMMMMMMMMMMZ~~~~~~........................NNNNNNNNNN
40 NNNNNNNNNNNNNNNNNNOOOOOOOOO~~~~~~~~~~~~~~~~~~~~~~~~~=IMMMMMMMMMMMMMMMMMMMMMMMMO~~~~~~~.......................~NNNNNNNNNN
41 NNNNNNNNNNNNNNNNNNOOOOOOOO7~~~~~~~~~~~~~~~~~~~~~~~~~~~=MMMMMMMMMMMMMMMMMMMMMM~~~~~~~~~=......................NNNNNNNNNNN
42 NNNNNNNNNNNNNNNNNNOOOOOO$~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ZMMMMMMMMMMMMMMMMMM~~~~~~~~~~~~,....................NNNNNNNNNNNN
43 NNNNNNNNNNNNNNNNNNNOOOOO~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NMMMMMMMMMMMMMM=~~~~~~~~~~~~~~,..................NNNNNNNNNNNNN
44 NNNNNNNNNNNNNNNNNNNNOOO+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~8MMMMMMMI~~~~~~~~~~~~~~~~M~~~,..............MNNNNNNNNNNNNNN
45 NNNNNNNNNNNNNNNNNNNNMOO=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~N~~~~~~........~~~NNNNNNNNNNNNNNN
46 NNNNNNNNNNNNNNNNNNNNNNN8~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~M~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNN
47 NNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~$~~~~~~~M~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNN
48 NNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~MI~~~N~~~~~~~~~~~~~~~~MNNNNNNNNNNNNNNN
49 NNNNNNNNNNNNNNNNNNNNNNNNNNZ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNN
50 NNNNNNNNNNNNNNNNNNNNNNNNNNNDO~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~MNNNNNNNNNNNNNNNN
51 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=NNNNNNNNNNNNNNNNN
52 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNZ=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNN
53 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~MNNNNNNNNNNNNNNNNN
54 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=~~~~~~~~~~~~~~~~~~=~NNNNNNNNNNNNNNNNNNN
55 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=+DM8~~~~~~~$MN~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNN
56 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNM~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNN
57 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNZ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNNN
58 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNM~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNNNN
59 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNZ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~8NNNNNNNNNNNNNNNNNNNNNNNN
60 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=MNNNNNNNNNNNNNNNNNNNNNNNNN
61 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN7~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~DNNNNNNNNNNNNNNNNNNNNNNNNNNNN
62 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNM~~~~~~=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
63 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNND~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
64 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN$~~~~~~~~~~~~~~~~==~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
65 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN:~~~~~~~~~~~~~~~~~~~~~~~~~=~~~~~~~~~~~~~=~~~~~NNNNNNNNNNNNNNNNNNNNWE&ARE&LEGIONNNNN
66 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
67 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=NNNNNNNNNNNNNNWE&DO&NOT&FORGIVENNNN
68 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
69 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN8~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNWE&DO&NOT&FORGETNNN
70 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
71 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNM~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNEXPECT&USNNNN
72 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~?NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
73 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNM~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
74 NNNNNNNNNNNNNNNNNNNNNNNNNNNNNN=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
75  */
76 
77 /**
78  * @title Microverse
79  * Given the fact that most of the blockchaaaaains are dogshit wrapped in catshit, we've decided to come down from the
80  * highland, just for a while, though.
81  * Being smart is lonely, being nice is a compromise.
82  * Hello human, we are Evil Morty Fund.
83  * Decentralization is great, while balance must be kept.
84  * Order will change, but never disappear.
85  * We are not building another chain, we are forming a soceity, never seen, never have been.
86  */
87 
88  // \ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /
89  // \ (•◡•) / █   █ █░░█ █▀▀▄ █▀▀█ █░░ █░░█ █▀▀▄ █▀▀█ █▀▀▄ █░░█ █▀▀▄ █▀▀▄ █░░█ █▀▀▄  \ (•◡•) /
90  // \ (•◡•) / █ █ █ █░░█ █▀▀▄ █▄▄█ █░░ █░░█ █▀▀▄ █▄▄█ █░░█ █░░█ █▀▀▄ █░░█ █░░█ █▀▀▄  \ (•◡•) /
91  // \ (•◡•) / █▄▀▄█ ░▀▀▀ ▀▀▀░ ▀░░▀ ▀▀▀ ░▀▀▀ ▀▀▀░ ▀░░▀ ▀▀▀░ ░▀▀▀ ▀▀▀░ ▀▀▀░ ░▀▀▀ ▀▀▀░  \ (•◡•) /
92  // \ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /\ (•◡•) /
93 
94 /**
95  * Created on 2018-08-21 03:28
96  * @summary: 
97  * @author: yong
98  */
99 pragma solidity ^0.4.23;
100 
101 /**
102  * @title RBAC (Role-Based Access Control)
103  * @author Matt Condon (@Shrugs)
104  * @dev Stores and provides setters and getters for roles and addresses.
105  * @dev Supports unlimited numbers of roles and addresses.
106  * @dev See //contracts/mocks/RBACMock.sol for an example of usage.
107  * This RBAC method uses strings to key roles. It may be beneficial
108  *  for you to write your own implementation of this interface using Enums or similar.
109  * It's also recommended that you define constants in the contract, like ROLE_ADMIN below,
110  *  to avoid typos.
111  */
112 contract RBAC {
113   using Roles for Roles.Role;
114 
115   mapping (string => Roles.Role) private roles;
116 
117   event RoleAdded(address addr, string roleName);
118   event RoleRemoved(address addr, string roleName);
119 
120   /**
121    * @dev reverts if addr does not have role
122    * @param addr address
123    * @param roleName the name of the role
124    * // reverts
125    */
126   function checkRole(address addr, string roleName)
127     view
128     public
129   {
130     roles[roleName].check(addr);
131   }
132 
133   /**
134    * @dev determine if addr has role
135    * @param addr address
136    * @param roleName the name of the role
137    * @return bool
138    */
139   function hasRole(address addr, string roleName)
140     view
141     public
142     returns (bool)
143   {
144     return roles[roleName].has(addr);
145   }
146 
147   /**
148    * @dev add a role to an address
149    * @param addr address
150    * @param roleName the name of the role
151    */
152   function addRole(address addr, string roleName)
153     internal
154   {
155     roles[roleName].add(addr);
156     emit RoleAdded(addr, roleName);
157   }
158 
159   /**
160    * @dev remove a role from an address
161    * @param addr address
162    * @param roleName the name of the role
163    */
164   function removeRole(address addr, string roleName)
165     internal
166   {
167     roles[roleName].remove(addr);
168     emit RoleRemoved(addr, roleName);
169   }
170 
171   /**
172    * @dev modifier to scope access to a single role (uses msg.sender as addr)
173    * @param roleName the name of the role
174    * // reverts
175    */
176   modifier onlyRole(string roleName)
177   {
178     checkRole(msg.sender, roleName);
179     _;
180   }
181 }
182 
183 
184 
185 /**
186  * @title Ownable
187  * @dev The Ownable contract has an owner address, and provides basic authorization control
188  * functions, this simplifies the implementation of "user permissions".
189  */
190 contract Ownable {
191   address public owner;
192 
193 
194   event OwnershipRenounced(address indexed previousOwner);
195   event OwnershipTransferred(
196     address indexed previousOwner,
197     address indexed newOwner
198   );
199 
200 
201   /**
202    * @dev The Ownable constructor sets the original `owner` of the contract to the sender
203    * account.
204    */
205   constructor() public {
206     owner = msg.sender;
207   }
208 
209   /**
210    * @dev Throws if called by any account other than the owner.
211    */
212   modifier onlyOwner() {
213     require(msg.sender == owner);
214     _;
215   }
216 
217   /**
218    * @dev Allows the current owner to relinquish control of the contract.
219    */
220   function renounceOwnership() public onlyOwner {
221     emit OwnershipRenounced(owner);
222     owner = address(0);
223   }
224 
225   /**
226    * @dev Allows the current owner to transfer control of the contract to a newOwner.
227    * @param _newOwner The address to transfer ownership to.
228    */
229   function transferOwnership(address _newOwner) public onlyOwner {
230     _transferOwnership(_newOwner);
231   }
232 
233   /**
234    * @dev Transfers control of the contract to a newOwner.
235    * @param _newOwner The address to transfer ownership to.
236    */
237   function _transferOwnership(address _newOwner) internal {
238     require(_newOwner != address(0));
239     emit OwnershipTransferred(owner, _newOwner);
240     owner = _newOwner;
241   }
242 
243 }
244 
245 
246 /**
247  * @title Superuser
248  * @dev The Superuser contract defines a single superuser who can transfer the ownership 
249  * @dev of a contract to a new address, even if he is not the owner. 
250  * @dev A superuser can transfer his role to a new address. 
251  */
252 contract Superuser is Ownable, RBAC {
253   string public constant ROLE_SUPERUSER = "superuser";
254 
255   constructor () public {
256     addRole(msg.sender, ROLE_SUPERUSER);
257   }
258 
259   /**
260    * @dev Throws if called by any account that's not a superuser.
261    */
262   modifier onlySuperuser() {
263     checkRole(msg.sender, ROLE_SUPERUSER);
264     _;
265   }
266 
267   modifier onlyOwnerOrSuperuser() {
268     require(msg.sender == owner || isSuperuser(msg.sender));
269     _;
270   }
271 
272   /**
273    * @dev getter to determine if address has superuser role
274    */
275   function isSuperuser(address _addr)
276     public
277     view
278     returns (bool)
279   {
280     return hasRole(_addr, ROLE_SUPERUSER);
281   }
282 
283   /**
284    * @dev Allows the current superuser to transfer his role to a newSuperuser.
285    * @param _newSuperuser The address to transfer ownership to.
286    */
287   function transferSuperuser(address _newSuperuser) public onlyOwner {
288     require(_newSuperuser != address(0));
289     removeRole(msg.sender, ROLE_SUPERUSER);
290     addRole(_newSuperuser, ROLE_SUPERUSER);
291   }
292 }
293 
294 /**
295  * @title MicroverseBase
296  * @dev You are still with us? im almost surprised.
297  * @dev Basic params are defined in this base.
298  */
299 contract MicroverseBase is Superuser {
300 
301     using SafeMath for uint256;
302 
303     event OpenWormhole();
304     event CloseWormhole();
305     event SystemChangePercentWeiDividend(uint256 oldValue, uint256 newValue);
306     event SystemChangePercentWeiJackpot(uint256 oldValue, uint256 newValue);
307     event SystemChangePercentWeiMC(uint256 oldValue, uint256 newValue);
308 
309     uint256 public previousWeiBalance;
310     uint256 public nextSeedHashed;
311     uint256 public percentWeiDividend = 40; // 40%
312     uint256 public percentWeiJackpot = 10; // 10%
313     uint256 public percentWeiMC = 10; // 10%
314     uint256 public FACTOR = 100;
315 
316     // We think it makes perfectly sense that only the owner can open or close the wormhole.
317     bool public wormholeIsOpen = true;
318 
319     modifier wormholeOpened() {
320         require (wormholeIsOpen == true);
321         _;
322     }
323 
324     /**
325      * @dev start game
326      */
327     function openWormhole() external onlyOwner {
328         wormholeIsOpen = true;
329         emit OpenWormhole();
330     }
331 
332     /**
333      * @dev stop game
334      */
335     function closeWormhole() external onlyOwner {
336         wormholeIsOpen = false;
337         emit CloseWormhole();
338     }
339 
340     /**
341      * @dev reveal the hashed seed to general public
342      * @dev the seed will be hashed twice using keccak256
343      * @param seedHash The result of keccak256(keccak256(seed))
344      */
345     function setNextSeedHash(uint256 seedHash)
346         external
347         onlyOwner {
348         nextSeedHashed = seedHash;
349     }
350 
351     /**
352      * @dev Update  dividend percentage, a system event
353      * is sent to capture this change.
354      * @param _value new value
355      */
356     function setPercentWeiDividend(uint256 _value)
357         external
358         onlyOwner {
359         emit SystemChangePercentWeiDividend(percentWeiDividend, _value);
360         percentWeiDividend = _value;
361     }
362 
363     /**
364      * @dev Update jackpot percentage, a system event
365      * is sent to capture this change.
366      * @param _value new value
367      */
368     function setPercentWeiJackpot(uint256 _value)
369         external
370         onlyOwner {
371         emit SystemChangePercentWeiJackpot(percentWeiJackpot, _value);
372         percentWeiJackpot = _value;
373     }
374 
375     /**
376      * @dev Update mutual constructor percentage, a system event
377      * is sent to capture this change.
378      * @param _value new value
379      */
380     function setPercentWeiMC(uint256 _value)
381         external
382         onlyOwner {
383         emit SystemChangePercentWeiMC(percentWeiMC, _value);
384         percentWeiMC = _value;
385     }
386 }
387 
388 /**
389  * Microverse is made up of four components, together managing three ERC223 tokens.
390  * Let us explain.
391  *
392  * ░█▀▀█ █▀▀█ █▀▀█ █▀▀█ █▀▀▀ █▀▀ 
393  * ░█─▄▄ █▄▄█ █▄▄▀ █▄▄█ █─▀█ █▀▀ 
394  * ░█▄▄█ ▀──▀ ▀─▀▀ ▀──▀ ▀▀▀▀ ▀▀▀ 
395  * 
396  * Garage manages Evil Morty token (Morty)
397  * It tracks and updates the price, manage the total balance, and timestamp in this universe.
398  *
399  * ░█▀▀█ █▀▀█ █▀▀█ ▀▀█▀▀ █▀▀█ █── 　 ░█▀▀█ █──█ █▀▀▄ 
400  * ░█▄▄█ █──█ █▄▄▀ ──█── █▄▄█ █── 　 ░█─▄▄ █──█ █──█ 
401  * ░█─── ▀▀▀▀ ▀─▀▀ ──▀── ▀──▀ ▀▀▀ 　 ░█▄▄█ ─▀▀▀ ▀──▀ 
402  *
403  * Portal Gun manages Evil Morty token (Morty), Rick C137 token (Rick), and Flurbo token (FLB)
404  * It takes care of the random process happened in this universe, in which the sender gets
405  * 20% chance to get Rick, 30% chance to get double Morty, and 50% chance to get FLB, if,
406  * he/she sends EM to the address of this contract.
407  *
408  * ▒█▀▀▀█ █▀▀█ █▀▀█ █▀▀ █▀▀ 　 ▒█▀▀█ █▀▀█ █░░█ ░▀░ █▀▀ █▀▀ 
409  * ░▀▀▀▄▄ █░░█ █▄▄█ █░░ █▀▀ 　 ▒█░░░ █▄▄▀ █░░█ ▀█▀ ▀▀█ █▀▀ 
410  * ▒█▄▄▄█ █▀▀▀ ▀░░▀ ▀▀▀ ▀▀▀ 　 ▒█▄▄█ ▀░▀▀ ░▀▀▀ ▀▀▀ ▀▀▀ ▀▀▀ 
411  *
412  * Spaceship manages Rick C137 tokens (Rick)
413  * It is responsible for sending the dividends.
414  *
415  * ▒█▀▀█ ░▀░ █▀▀█ █▀▀▄ █▀▄▀█ █▀▀█ █▀▀▄ 
416  * ▒█▀▀▄ ▀█▀ █▄▄▀ █░░█ █░▀░█ █▄▄█ █░░█ 
417  * ▒█▄▄█ ▀▀▀ ▀░▀▀ ▀▀▀░ ▀░░░▀ ▀░░▀ ▀░░▀ 
418  *
419  * Birdman helps grow the Microverse community.
420  * This contract sends the fund to birdmen.
421  *
422  */
423 
424 /**
425  * @title GarageInterface
426  * @dev Housekeeper for Evil Morty token.
427  */
428 contract GarageInterface {
429     /**
430      * @dev getter for token address
431      */
432     function getEvilMortyAddress() external view returns (address);
433 
434     /**
435      * @dev proxy/agent to purchase morties on behalf of senders
436      * @param weiAmount The ether amount
437      * @param beneficiary The buyer's address
438      */
439     function citadelBuy(uint256 weiAmount, address beneficiary) external returns (uint256);
440 }
441 
442 /**
443  * @title PortalGunInterface
444  * @dev Random oracle in this world.
445  */
446 contract PortalGunInterFace {
447 
448     uint256 public numTickets;
449 
450     /**
451      * @dev Give us morty, let there be rick
452      * @param player The player's address
453      * @param amount Amount morty sent
454      */
455     function participate(address player, uint256 amount) external;
456 
457     /**
458      * @dev getter to check EM balance
459      * @param sender The sender's address
460      */
461     function balanceOfMorty(address sender) external view returns (uint256);
462 
463     /**
464      * @dev getter to check C137 balance
465      * @param sender The sender's address
466      */
467     function balanceOfRick(address sender) external view returns (uint256);
468 
469     /**
470      * @dev getter to check FLB balance
471      * @param sender The sender's address
472      */
473     function balanceOfFlurbo(address sender) external view returns (uint256);
474 
475     /**
476      * @dev Give back EM, C137, or FLB
477      * @param seed A UUID in expressed in integer
478      */
479     function redeem(uint256 seed) external;
480 
481     /**
482      * @dev Wake Rick up
483      */
484     function startRick() external returns (bool);
485 
486     /**
487      * @dev Clean all ricks
488      * @dev Remember, for a given period of time, Rick C137 holders are eligible for receiving ETH dividends.
489      * @dev When the period ends, all ricks will be gone, C137 balance will be reset to zero.
490      * @dev Our strategy is, get ricks as early as possible!
491      */
492     function resetRick() external;
493 
494     /**
495      * @dev Make portal gun back on fire
496      */
497     function startPortalGun() external;
498 
499     /**
500      * @dev Cease fire and make Rick drunk
501      */
502     function stopPortalGunAndRick() external;
503 
504     /**
505      * @dev getter of number of C137 holders
506      */
507     function getNumOfRickHolders() external view returns (uint256);
508 }
509 
510 /**
511  * @title SpaceshipInterface
512  */
513 contract SpaceshipInterface {
514 
515     /**
516      * @dev What more can i say @jeff? It starts the spaceship
517      */
518     function startSpaceship() external returns (bool);
519     
520     /**
521      * @dev Send the eth funds to all C137 holders
522      */
523     function sendDividends() external;
524     
525     /**
526      * @dev getter of number of dividend rounds
527      */
528     function getNumDividends() external view returns (uint256);
529     
530     /**
531      * @dev updates the status, that's it
532      */
533     function updateSpaceshipStatus() external;    
534 }
535 
536 
537 /**
538  * ╔═╗╔═╦══╦═══╦═══╦═══╦╗░░╔╦═══╦═══╦═══╦═══╗
539  * ║║╚╝║╠╣╠╣╔═╗║╔═╗║╔═╗║╚╗╔╝║╔══╣╔═╗║╔═╗║╔══╝
540  * ║╔╗╔╗║║║║║░╚╣╚═╝║║░║╠╗║║╔╣╚══╣╚═╝║╚══╣╚══╗
541  * ║║║║║║║║║║░╔╣╔╗╔╣║░║║║╚╝║║╔══╣╔╗╔╩══╗║╔══╝
542  * ║║║║║╠╣╠╣╚═╝║║║╚╣╚═╝║╚╗╔╝║╚══╣║║╚╣╚═╝║╚══╗
543  * ╚╝╚╝╚╩══╩═══╩╝╚═╩═══╝░╚╝░╚═══╩╝╚═╩═══╩═══╝
544  *
545  * It's been a great pleasure coding in solidity!
546  *
547  * @title Microverse
548  * @dev secret: 981ea44275dc95cb74b8f768f82d6debfd2f934adc0125de71762051
549  *
550  * ██████┼────────────────────────────────────────────────────────────┼██████
551  * ██████│░░░Ryan░░░░░░░░░░░░░░░░░░░░░░░░░Dan░░░░░░░░░░░░░░░░Justin░░░│██████
552  * ██████│░Einstein░░░░░░░░░░░░░Satoshi░░░░░░░░░░░░░░░░░Stephen░░░░░░░│██████
553  * ██████│░░░░░░░░░Shannon░░░░░░░░░░░░░░░░░RSA░░░░░░░░░░░░░░░░░░░░░░░░│██████
554  * ██████│░░░░░░░░░░░Vitalik░░░░░░░░░░░░░░░░░░░░░All Team Members░░░░░│██████
555  * ██████│░░░░░░Steve░░░░░░░░░░Mandela░░░░░░░░░░Lennon░░░░░░░░░░░░░░░░│██████
556  * ██████│░░░░░░░░░░░░░░░░Gabriel░░░░░░░░░Haruki░░░░░░░░░░░░░THANKS░TO│██████
557  * ██████┼────────────────────────────────────────────────────────────┼██████
558  * ██████████████████████████████████████████████████████████████████████████
559  * █████████████████████████ https://microverse.club ████████████████████████
560  * ██████████████████████████████████████████████████████████████████████████
561  * ██████████████████████████████████████████████████████████████████████████
562  */
563 contract Microverse is MicroverseBase {
564 
565     event Refund(address indexed receiver, uint256 value);
566     event Withdraw(address indexed receiver, uint256 value);
567 
568     GarageInterface internal garageInstance;
569     PortalGunInterFace internal portalGunInstance;
570     SpaceshipInterface internal spaceshipInstance;
571 
572     address internal EvilMortyAddress;
573     address internal MCAddress;
574 
575     modifier isEvilMortyToken() {
576         require(msg.sender == EvilMortyAddress);
577         _;
578     }
579 
580     constructor(
581         address garageAddress,
582         address portalGunAddress,
583         address spaceshipAddress,
584         address MutualConstructorAddress)
585         public {
586 
587         garageInstance = GarageInterface(garageAddress);
588         portalGunInstance = PortalGunInterFace(portalGunAddress);
589         spaceshipInstance = SpaceshipInterface(spaceshipAddress);
590         EvilMortyAddress = garageInstance.getEvilMortyAddress();
591         MCAddress = MutualConstructorAddress;
592     }
593 
594     /**
595      * @dev Enable sending eth directly
596      */
597     function ()
598         public
599         payable {
600         if (msg.sender == owner) {
601             return;
602         }
603         buyMorty();
604     }
605 
606     /**
607      * @dev Respond to Evil Morty token transfer
608      * @param _from address
609      * @param _value address
610      * @param _data extra data
611      */
612     function tokenFallback(address _from, uint _value, bytes _data)
613         public
614         wormholeOpened
615         isEvilMortyToken {
616         if (_from == owner) {
617             return;
618         }
619         portalGunInstance.participate(_from, _value);
620     }
621 
622     /**
623      * @dev Check morty balance of a given address 
624      * @param sender address
625      */
626     function balanceOfMorty(address sender)
627         external
628         view
629         returns (uint256) {
630         return portalGunInstance.balanceOfMorty(sender);
631     }
632 
633     /**
634      * @dev Check rick balance of a given address
635      * @param sender address
636      */
637     function balanceOfRick(address sender)
638         external
639         view
640         returns (uint256) {
641         return portalGunInstance.balanceOfRick(sender);
642     }
643 
644     /**
645      * @dev Check flurbo of a given address
646      * @param sender address
647      */
648     function balanceOfFlurbo(address sender)
649         external
650         view
651         returns (uint256) {
652         return portalGunInstance.balanceOfFlurbo(sender);
653     }
654 
655     /**
656      * @dev Agent for buying morties
657      * if the user sends more eth fund than needed, the exceedings will be sent back
658      * i.e., if there are only 1000 morties left, each morty costs 0.001 eth, and the
659      * user sends 3 eth, then, after the purchase (1000 * 0.001 = 1 eth), the remaining
660      * 2 eth will be refunded.
661      */
662     function buyMorty()
663         public
664         wormholeOpened
665         payable {
666 
667         uint256 weiReturn = garageInstance.citadelBuy(msg.value, msg.sender);
668 
669         if (weiReturn > 0) {
670             msg.sender.transfer(weiReturn);
671             emit Refund(msg.sender, weiReturn);
672         }
673 
674         _addWeiAmount(address(this).balance.sub(previousWeiBalance));
675     }
676 
677     /**
678      * @dev Transfer jackpot to the winner
679      * @param winner address
680      */
681     function transferJackpot(address winner)
682         external
683         onlyOwner
684         returns (bool) {
685         uint256 weiJackpot = address(this).balance;
686         emit Withdraw(winner, weiJackpot);
687         winner.transfer(weiJackpot);
688         previousWeiBalance = 0;
689     }
690 
691     /**
692      * @dev Consume tickets to generate morty, rick, or flurbo
693      * @param seed A uuid4 in int format
694      */
695     function redeemLottery(uint256 seed)
696         external
697         onlyOwnerOrSuperuser {
698         return portalGunInstance.redeem(seed);
699     }
700 
701     /**
702      * @dev Get number of tickets onhold
703      */
704     function getNumOfLotteryTickets()
705         external
706         view
707         returns (uint256) {
708         return portalGunInstance.numTickets();
709     }
710 
711     /**
712      * @dev Internal function to update funds for jackpot and dividends
713      * @param weiAmount eth amount in wei
714      */
715     function _addWeiAmount(uint256 weiAmount)
716         internal
717         returns (bool) {
718 
719         uint256 weiDividendPart = weiAmount.mul(percentWeiDividend).div(FACTOR); // 40%
720         uint256 weiJackpotPart = weiAmount.mul(percentWeiJackpot).div(FACTOR); // 10%
721         uint256 weiMCPart = weiAmount.mul(percentWeiMC).div(FACTOR); // 10%
722         uint256 weiEMFPart = weiAmount.sub(weiDividendPart).sub(weiJackpotPart).sub(weiMCPart);
723 
724         address(spaceshipInstance).transfer(weiDividendPart);
725         MCAddress.transfer(weiMCPart);
726         address(owner).transfer(weiEMFPart);
727 
728         previousWeiBalance = address(this).balance;
729 
730         return true;
731     }
732 
733     /**
734      * @dev Before sending dividends, there are some preparations to be made.
735      * Spaceship needs to know the number of current Rick holders and 
736      * the number of total Ricks. Any events causing changes in balance of Ricks
737      * need to be stopped, which means, the Portal Gun service is paused and,
738      * transferring of Ricks are paused.
739      */
740     function prepareDividends()
741         external
742         onlyOwnerOrSuperuser {
743 
744         spaceshipInstance.updateSpaceshipStatus();
745         portalGunInstance.stopPortalGunAndRick();
746     }
747 
748     /**
749      * @dev Send eth to all Rick holders
750      */
751     function transferDividends()
752         external
753         onlyOwnerOrSuperuser {
754         return spaceshipInstance.sendDividends();
755     }
756 
757     /**
758      * @dev Get number of Rick holders in Spaceship
759      */
760     function getNumDividends()
761         external
762         view
763         returns (uint256) {
764         return spaceshipInstance.getNumDividends();
765     }
766 
767     /**
768      * @dev Once the distribution of dividends is finished
769      * the system will be started
770      */
771     function finishDividends()
772         external
773         onlyOwnerOrSuperuser {
774         spaceshipInstance.startSpaceship();
775         portalGunInstance.startPortalGun();
776         portalGunInstance.startRick();
777     }
778 
779     /**
780      * @dev Reset all Rick holders
781      */
782     function resetDividends()
783         external
784         onlyOwnerOrSuperuser {
785         return portalGunInstance.resetRick();
786     }
787 
788     /**
789      * @dev Get number of Rick holders in Portal Gun
790      */
791     function getNumOfRickHolders()
792         external
793         view
794         returns (uint256) {
795         return portalGunInstance.getNumOfRickHolders();
796     }
797 
798     /**
799      * @dev Upgrade Microverse's components
800      * in case of upgrade needed
801      */
802     function upgradeComponent(
803         uint256 _componentIndex,
804         address _address)
805         external
806         onlyOwner {
807 
808         uint256 codeLength;
809 
810         assembly {
811             codeLength := extcodesize(_address)
812         }
813 
814         if (codeLength == 0) {
815             return;
816         }
817 
818         if (_componentIndex == 1) {
819             garageInstance = GarageInterface(_address);
820             return;
821         }
822 
823         if (_componentIndex == 2) {
824             portalGunInstance = PortalGunInterFace(_address);
825             return;
826         }
827 
828         if (_componentIndex == 3) {
829             spaceshipInstance = SpaceshipInterface(_address);
830             return;
831         }
832 
833     }
834 
835     /**
836      * @dev refresh evil morty's address
837      */
838     function upgradeEvilMorty()
839         external
840         onlyOwner {
841         EvilMortyAddress = garageInstance.getEvilMortyAddress();
842     }
843 
844 }
845 
846 /**
847  * @title Roles
848  * @author Francisco Giordano (@frangio)
849  * @dev Library for managing addresses assigned to a Role.
850  *      See RBAC.sol for example usage.
851  */
852 library Roles {
853   struct Role {
854     mapping (address => bool) bearer;
855   }
856 
857   /**
858    * @dev give an address access to this role
859    */
860   function add(Role storage role, address addr)
861     internal
862   {
863     role.bearer[addr] = true;
864   }
865 
866   /**
867    * @dev remove an address' access to this role
868    */
869   function remove(Role storage role, address addr)
870     internal
871   {
872     role.bearer[addr] = false;
873   }
874 
875   /**
876    * @dev check if an address has this role
877    * // reverts
878    */
879   function check(Role storage role, address addr)
880     view
881     internal
882   {
883     require(has(role, addr));
884   }
885 
886   /**
887    * @dev check if an address has this role
888    * @return bool
889    */
890   function has(Role storage role, address addr)
891     view
892     internal
893     returns (bool)
894   {
895     return role.bearer[addr];
896   }
897 }
898 
899 
900 /**
901  * @title SafeMath
902  * @dev Math operations with safety checks that throw on error
903  */
904 library SafeMath {
905 
906     /**
907     * @dev Multiplies two numbers, throws on overflow.
908     */
909     function mul(uint256 a, uint256 b) internal pure returns (uint256 c) {
910         // Gas optimization: this is cheaper than asserting 'a' not being zero, but the
911         // benefit is lost if 'b' is also tested.
912         // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522
913         if (a == 0) {
914             return 0;
915         }
916 
917         c = a * b;
918         assert(c / a == b);
919         return c;
920     }
921 
922     /**
923     * @dev Integer division of two numbers, truncating the quotient.
924     */
925     function div(uint256 a, uint256 b) internal pure returns (uint256) {
926         // assert(b > 0); // Solidity automatically throws when dividing by 0
927         // uint256 c = a / b;
928         // assert(a == b * c + a % b); // There is no case in which this doesn't hold
929         return a / b;
930     }
931 
932     /**
933     * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).
934     */
935     function sub(uint256 a, uint256 b) internal pure returns (uint256) {
936         assert(b <= a);
937         return a - b;
938     }
939 
940     /**
941     * @dev Adds two numbers, throws on overflow.
942     */
943     function add(uint256 a, uint256 b) internal pure returns (uint256 c) {
944         c = a + b;
945         assert(c >= a);
946         return c;
947     }
948 }