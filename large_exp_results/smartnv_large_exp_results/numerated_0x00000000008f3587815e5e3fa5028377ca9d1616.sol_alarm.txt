In the contract provided, the potential vulnerabilities are:
1) Inconsistent state update
2) Insufficient gas