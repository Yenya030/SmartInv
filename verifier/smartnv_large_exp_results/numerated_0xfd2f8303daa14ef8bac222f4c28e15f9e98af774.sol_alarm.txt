The contract provided is vulnerable to the following potential vulnerabilities: 

1) inconsistent state update 
2) insufficient gas