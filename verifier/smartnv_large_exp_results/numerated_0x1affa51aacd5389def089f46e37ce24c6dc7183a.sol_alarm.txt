The contract you provided contains the potential vulnerabilities of reentrancy and insufficient gas.